# arc_youtube v0.4
# Embed Youtube videos with customised player
# Andy Carter
# http://www.redhotchilliproject.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YToxMDp7czo0OiJuYW1lIjtzOjExOiJhcmNfeW91dHViZSI7czo3OiJ2ZXJzaW9uIjtzOjM6
IjAuNCI7czo2OiJhdXRob3IiO3M6MTE6IkFuZHkgQ2FydGVyIjtzOjEwOiJhdXRob3JfdXJp
IjtzOjM1OiJodHRwOi8vd3d3LnJlZGhvdGNoaWxsaXByb2plY3QuY29tLyI7czoxMToiZGVz
Y3JpcHRpb24iO3M6NDM6IkVtYmVkIFlvdXR1YmUgdmlkZW9zIHdpdGggY3VzdG9taXNlZCBw
bGF5ZXIiO3M6NDoidHlwZSI7aToxO3M6NToiZmxhZ3MiO2k6MjtzOjQ6ImhlbHAiO3M6NjYx
MzoiCTxoMz5EZXNjcmlwdGlvbjwvaDM+CgoJPHA+RWFzaWx5IGVtYmVkIHZhbGlkIDxzcGFu
IGNsYXNzPSJjYXBzIj5YSFRNTDwvc3Bhbj4gMS4wIG1hcmt1cCBZb3V0dWJlIHZpZGVvcyBp
biBhcnRpY2xlcyBhbmQgY3VzdG9taXNlIHRoZSBhcHBlYXJhbmNlIG9mIHRoZSBwbGF5ZXIu
PC9wPgoKCTxoMz5JbnN0YWxsYXRpb248L2gzPgoKCTxwPlRvIGluc3RhbGwgZ28gdG8gdGhl
ICYjODIxNjtwbHVnaW5zJiM4MjE3OyB0YWIgdW5kZXIgJiM4MjE2O2FkbWluJiM4MjE3OyBh
bmQgcGFzdGUgdGhlIHBsdWdpbiBjb2RlIGludG8gdGhlICYjODIxNjtJbnN0YWxsIHBsdWdp
biYjODIxNzsgYm94LCAmIzgyMTY7dXBsb2FkJiM4MjE3OyBhbmQgdGhlbiAmIzgyMTY7aW5z
dGFsbCYjODIxNzsuIEZpbmFsbHkgYWN0aXZhdGUgdGhlIHBsdWdpbi4gUGxlYXNlIG5vdGUg
dGhhdCB5b3Ugd2lsbCBuZWVkIHRvIHNldC11cCBhIGN1c3RvbSBmaWVsZCB0byB1c2UgZm9y
IGFzc29jaWF0aW5nIHZpZGVvcyB3aXRoIGFydGljbGVzLCB1bmxlc3MgeW91IGNob29zZSB0
byBkaXJlY3RseSBlbWJlZCB0aGUgbmV3IHRhZyBpbiB0aGUgYXJ0aWNsZSB0ZXh0LjwvcD4K
Cgk8aDM+U3ludGF4PC9oMz4KCjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfeW91dHViZSAvJmd0
Owo8L2NvZGU+Cjxjb2RlPiZsdDt0eHA6YXJjX3lvdXR1YmUgdmlkZW89JnF1b3Q7dGdiTnlt
Wjd2cVkmcXVvdDsgd2lkdGg9JnF1b3Q7NTAwJnF1b3Q7IHJhdGlvPSZxdW90OzE2OjkmcXVv
dDsgLyZndDsKPC9jb2RlPgo8Y29kZT4mbHQ7dHhwOmFyY195b3V0dWJlIHZpZGVvPSZxdW90
O2h0dHA6Ly91ay55b3V0dWJlLmNvbS93YXRjaD92PXRnYk55bVo3dnFZJnF1b3Q7IHdpZHRo
PSZxdW90OzUwMCZxdW90OyByYXRpbz0mcXVvdDsxNjo5JnF1b3Q7IC8mZ3Q7CjwvY29kZT48
L3ByZT4KCgk8cD5vciw8L3A+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJjX3lvdXR1YmUgbGlu
az0mcXVvdDsxJnF1b3Q7Jmd0O0xpbmsmbHQ7L3R4cDphcmNfeW91dHViZSZndDsKPC9jb2Rl
PjwvcHJlPgoKCTxoMz5Vc2FnZTwvaDM+CgoJPGg0PlZpZGVvIGFuZCBwbGF5bGlzdHM8L2g0
PgoKCTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1dGU8L3RoPgoJCQk8dGg+RGVzY3Jp
cHRpb248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJCTx0aD5FeGFtcGxlPC90aD4KCQk8
L3RyPgoJCTx0cj4KCQkJPHRkPnZpZGVvPC90ZD4KCQkJPHRkPllvdXR1YmUgdXJsPHN1cCBj
bGFzcz0iZm9vdG5vdGUiPjxhIGhyZWY9IiNmbjE2MjE4MTY3MTg0ZWRiNmRiZDE4ZDljIj4x
PC9hPjwvc3VwPiBvciB2aWRlbyBJRCBmb3IgdGhlIHZpZGVvIHlvdSB3YW50IHRvIGVtYmVk
PC90ZD4KCQkJPHRkPiA8ZW0+dW5zZXQ8L2VtPjwvdGQ+CgkJCTx0ZD52aWRlbz0mIzgyMjA7
dGE3VkhLR3VvSlkmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPnBsYXlsaXN0
PC90ZD4KCQkJPHRkPllvdXR1YmUgcGxheWxpc3QgSUQgZm9yIHRoZSBwbGF5bGlzdCB5b3Ug
d2FudCB0byBlbWJlZDwvdGQ+CgkJCTx0ZD4gPGVtPnVuc2V0PC9lbT48L3RkPgoJCQk8dGQ+
cGxheWxpc3Q9JiM4MjIwOzJEQkZCNjBENTgxQUI5MDEmIzgyMjE7PC90ZD4KCQk8L3RyPgoJ
CTx0cj4KCQkJPHRkPmN1c3RvbTwvdGQ+CgkJCTx0ZD5OYW1lIG9mIHRoZSBjdXN0b20gZmll
bGQgY29udGFpbmluZyB2aWRlbyBJRHMvdXJscyBhc3NvY2lhdGVkIHdpdGggYXJ0aWNsZTwv
dGQ+CgkJCTx0ZD5Zb3V0dWJlIElEPC90ZD4KCQkJPHRkPmN1c3RvbT0mIzgyMjA7dmlkZW8m
IzgyMjE7PC90ZD4KCQk8L3RyPgoJPC90YWJsZT4KCgk8cCBpZD0iZm4xNjIxODE2NzE4NGVk
YjZkYmQxOGQ5YyIgY2xhc3M9ImZvb3Rub3RlIj48c3VwPjE8L3N1cD4gVGhlIHVybCBjYW4g
YmUgZWl0aGVyIGZvciBhbiBpbmRpdmlkdWFsIHZpZGVvIG9yIGZvciBhIHBsYXlsaXN0Ljwv
cD4KCgk8aDQ+QmFzaWNzPC9oND4KCgk8dGFibGU+CgkJPHRyPgoJCQk8dGg+QXR0cmlidXRl
PC90aD4KCQkJPHRoPkRlc2NyaXB0aW9uPC90aD4KCQkJPHRoPkRlZmF1bHQ8L3RoPgoJCQk8
dGg+RXhhbXBsZTwvdGg+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5saW5rPC90ZD4KCQkJPHRk
PlNldCB0byAmIzgyMTY7MSYjODIxNzsgdG8gc2hvdyBhIGxpbmsgdG8gdGhlIFlvdXR1YmUg
dmlkZW8gcGFnZSBiZWxvdyB0aGUgcGxheWVyOyB0aGUgbGluayB0ZXh0IHdpbGwgYmUgdGhl
IDxzcGFuIGNsYXNzPSJjYXBzIj48c3BhbiBjbGFzcz0iY2FwcyI+VVJMPC9zcGFuPjwvc3Bh
bj4gb3IgdGhlIHRleHQgYmV0d2VlbiBvcGVuaW5nIGFuZCBjbG9zaW5nIHRhZ3M8L3RkPgoJ
CQk8dGQ+MDwvdGQ+CgkJCTx0ZD5saW5rPSYjODIyMDsxJiM4MjIxOzwvdGQ+CgkJPC90cj4K
CQk8dHI+CgkJCTx0ZD5sYWJlbDwvdGQ+CgkJCTx0ZD5MYWJlbCBmb3IgdGhlIHZpZGVvPC90
ZD4KCQkJPHRkPiA8ZW0+bm8gbGFiZWw8L2VtPjwvdGQ+CgkJCTx0ZD5sYWJlbD0mIzgyMjA7
WW91dHViZSB2aWRlbyYjODIyMTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+bGFiZWx0
YWc8L3RkPgoJCQk8dGQ+SW5kZXBlbmRlbnQgd3JhcHRhZyBmb3IgbGFiZWw8L3RkPgoJCQk8
dGQ+IDxlbT5lbXB0eTwvZW0+PC90ZD4KCQkJPHRkPmxhYmVsdGFnPSYjODIyMDtoMyYjODIy
MTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+d3JhcHRhZzwvdGQ+CgkJCTx0ZD48c3Bh
biBjbGFzcz0iY2FwcyI+PHNwYW4gY2xhc3M9ImNhcHMiPkhUTUw8L3NwYW4+PC9zcGFuPiB0
YWcgdG8gYmUgdXNlZCBhcyB0aGUgd3JhcHRhZywgd2l0aG91dCBicmFja2V0czwvdGQ+CgkJ
CTx0ZD4gPGVtPnVuc2V0PC9lbT48L3RkPgoJCQk8dGQ+d3JhcHRhZz0mIzgyMjA7ZGl2JiM4
MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5jbGFzczwvdGQ+CgkJCTx0ZD48c3Bh
biBjbGFzcz0iY2FwcyI+PHNwYW4gY2xhc3M9ImNhcHMiPkNTUzwvc3Bhbj48L3NwYW4+IGNs
YXNzIGF0dHJpYnV0ZSBmb3Igd3JhcHRhZzwvdGQ+CgkJCTx0ZD5hcmNfeW91dHViZTwvdGQ+
CgkJCTx0ZD5jbGFzcz0mIzgyMjA7eW91dHViZSYjODIyMTs8L3RkPgoJCTwvdHI+Cgk8L3Rh
YmxlPgoKCTxoND5DdXN0b21pc2luZyB0aGUgWW91dHViZSBwbGF5ZXI8L2g0PgoKCTxwPllv
dSBjYW4gY3VzdG9taXNlIHRoZSBhcHBlYXJhbmNlIG9mIHRoZSBZb3V0dWJlIGZsYXNoIHBs
YXllciB1c2luZyB0aGlzIHBsdWdpbiB0byBkZWZpbmUgY29sb3Vycywgc2l6ZSwgYW5kIGxh
bmd1YWdlIHNldHRpbmdzLjwvcD4KCgk8dGFibGU+CgkJPHRyPgoJCQk8dGg+QXR0cmlidXRl
PC90aD4KCQkJPHRoPkRlc2NyaXB0aW9uPC90aD4KCQkJPHRoPkRlZmF1bHQ8L3RoPgoJCQk8
dGg+RXhhbXBsZTwvdGg+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD53aWR0aDwvdGQ+CgkJCTx0
ZD5XaWR0aCBvZiB2aWRlbzwvdGQ+CgkJCTx0ZD4wPC90ZD4KCQkJPHRkPndpZHRoPSYjODIy
MDsyMDAmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmhlaWdodDwvdGQ+CgkJ
CTx0ZD5IZWlnaHQgb2YgdmlkZW88L3RkPgoJCQk8dGQ+MDwvdGQ+CgkJCTx0ZD5oZWlnaHQ9
JiM4MjIwOzE1MCYjODIyMTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+cmF0aW88L3Rk
PgoJCQk8dGQ+QXNwZWN0IHJhdGlvPC90ZD4KCQkJPHRkPjQ6MzwvdGQ+CgkJCTx0ZD5yYXRp
b249JiM4MjIwOzE2OjkmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmNvbG9y
MTwvdGQ+CgkJCTx0ZD5TaXgtZGlnaXQgaGV4YWRlY2ltYWwgY29sb3VyIGNvZGUgKGlmIGNv
bG9yMSBhbmQgY29sb3IyIGFyZSB1bnNldCB0aGVuIHRoZSBkZWZhdWx0IFlvdXR1YmUgY29s
b3VyIHNjaGVtZSBpcyB1c2VkKTwvdGQ+CgkJCTx0ZD4gPGVtPnVuc2V0PC9lbT48L3RkPgoJ
CQk8dGQ+Y29sb3IxPSYjODIyMDsyYjQwNWImIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4K
CQkJPHRkPmNvbG9yMjwvdGQ+CgkJCTx0ZD5TaXgtZGlnaXQgaGV4YWRlY2ltYWwgY29sb3Vy
IGNvZGU8L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwvZW0+PC90ZD4KCQkJPHRkPmNvbG9yMj0m
IzgyMjA7NmI4YWI2JiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5ib3JkZXI8
L3RkPgoJCQk8dGQ+JiM4MjE2OzEmIzgyMTc7IHRvIHNob3cgYm9yZGVyLCAmIzgyMTY7MCYj
ODIxNzsgdG8gaGlkZSBib3JkZXI8L3RkPgoJCQk8dGQ+MDwvdGQ+CgkJCTx0ZD5ib3JkZXI9
JiM4MjIwOzEmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmZzPC90ZD4KCQkJ
PHRkPiYjODIxNjsxJiM4MjE3OyB0byBhbGxvdyBmdWxsIHNjcmVlbiwgJiM4MjE2OzAmIzgy
MTc7IHRvICBkaXNhYmxlIGZ1bGwgc2NyZWVuIG1vZGU8L3RkPgoJCQk8dGQ+MTwvdGQ+CgkJ
PC90cj4KCQk8dHI+CgkJCTx0ZD5oZDwvdGQ+CgkJCTx0ZD4mIzgyMTY7MSYjODIxNzsgdG8g
cGxheSB2aWRlbyBpbiBIRCwgJiM4MjE2OzAmIzgyMTc7IHRvIGZvciBub3JtYWwgcGxheTwv
dGQ+CgkJCTx0ZD4wPC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmF1dG88L3RkPgoJCQk8
dGQ+JiM4MjE2OzEmIzgyMTc7IHRvIGF1dG9wbGF5IHRoZSB2aWRlbywgJiM4MjE2OzAmIzgy
MTc7IHRvIHR1cm4gb2ZmIGF1dG9wbGF5IChkZWZhdWx0KTwvdGQ+CgkJCTx0ZD4wPC90ZD4K
CQk8L3RyPgoJCTx0cj4KCQkJPHRkPnByaXZhY3k8L3RkPgoJCQk8dGQ+JiM4MjE2OzEmIzgy
MTc7IGZvciBlbmhhbmNlZCBwcml2YWN5IG1vZGUsIG5vIGNvb2tpZXMgdW5sZXNzIHRoZSB1
c2VyIGNsaWNrcyBwbGF5LCAmIzgyMTY7MCYjODIxNzsgbm9ybWFsIG1vZGU8L3RkPgoJCQk8
dGQ+MDwvdGQ+CgkJCTx0ZD5wcml2YWN5PSYjODIxNjsxJiM4MjE3OzwvdGQ+CgkJPC90cj4K
CQk8dHI+CgkJCTx0ZD5zc2w8L3RkPgoJCQk8dGQ+JiM4MjE2OzEmIzgyMTc7IHRvIHVzZSA8
c3BhbiBjbGFzcz0iY2FwcyI+PHNwYW4gY2xhc3M9ImNhcHMiPkhUVFBTPC9zcGFuPjwvc3Bh
bj4gcHJvdG9jb2w8L3RkPgoJCQk8dGQ+MDwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5s
YW5nPC90ZD4KCQkJPHRkPkxhbmd1YWdlIGNvZGUgZm9yIHBsYXllciwgYnkgZGVmYXVsdCB0
aGlzIGlzIHNldCB0byBFbmdsaXNoICYjODIyMDtlbiYjODIyMTs8L3RkPgoJCQk8dGQ+ZW48
L3RkPgoJCQk8dGQ+bGFuZz0mIzgyMjA7ZnImIzgyMjE7PC90ZD4KCQk8L3RyPgoJPC90YWJs
ZT4KCgk8aDM+RXhhbXBsZXM8L2gzPgoKCTxoND5FeGFtcGxlIDE6IFVzZSBjdXN0b20gZmll
bGQgdG8gYXNzb2NpYXRlIHZpZGVvIHdpdGggYW4gYXJ0aWNsZTwvaDQ+CgoJPHA+PHR4cDph
cmNfeW91dHViZSBjdXN0b209IllvdXR1YmUiIC8+PC9wPgoKCTxoND5FeGFtcGxlIDI6IEN1
c3RvbWlzZSB0aGUgYXBwZWFyYW5jZSBvZiB0aGUgcGxheWVyIGFuZCBhc3NvY2lhdGUgdmlk
ZW8gd2l0aCBjdXN0b20gZmllbGQ8L2g0PgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY195b3V0
dWJlIGNvbG9yMT0mcXVvdDswMDY2OTkmcXVvdDsgY29sb3IyPSZxdW90OzU0YWJkNiZxdW90
OyBib3JkZXI9JnF1b3Q7MSZxdW90OyBjdXN0b209JnF1b3Q7WW91dHViZSZxdW90OyAvJmd0
Owo8L2NvZGU+PC9wcmU+CgoJPHA+VGhpcyB3aWxsIHBsYWNlIGEgYm9yZGVyIGFyb3VuZCB0
aGUgcGxheWVyIGFuZCBjaGFuZ2UgaXRzIGNvbG91ciBzY2hlbWUgdG8gYSBibHVlIG9uZS4g
QXMgZXhhbXBsZSAxLCB0aGUgdmlkZW8gaXMgc2VsZWN0ZWQgdXNpbmcgYW4gYXJ0aWNsZSYj
ODIxNztzIGN1c3RvbSBmaWVsZCBjYWxsZWQgJiM4MjE2O1lvdXR1YmUmIzgyMTc7LjwvcD4K
Cgk8aDQ+RXhhbXBsZSAzOiBTbWFsbCB2aWRlbyBwbGF5ZXIgd2l0aCBmaXhlZCB2aWRlbzwv
aDQ+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJjX3lvdXR1YmUgd2lkdGg9JnF1b3Q7MjAwJnF1
b3Q7IHZpZGVvPSZxdW90O3RnYk55bVo3dnFZJnF1b3Q7IC8mZ3Q7CjwvY29kZT48L3ByZT4K
Cgk8cD5IZXJlIHRoZSB2aWRlbyBpcyBkZWZpbmVkIHdpdGhpbiB0aGUgdGFnIHVzaW5nIHRo
ZSB2aWRlbyBhdHRyaWJ1dGUgd2hpY2ggaGFzIGJlZW4gZ2l2ZW4gdGhlIHZhbHVlIG9mIFlv
dXR1YmUmIzgyMTc7cyB2aWRlbyBJRCwgYWx0ZXJuYXRpdmVseSB0aGlzIHZhbHVlIGNvdWxk
IGhhdmUgYmVlbiB0aGUgdmlkZW8mIzgyMTc7cyA8c3BhbiBjbGFzcz0iY2FwcyI+VVJMPC9z
cGFuPi48L3A+CgoJPGg0PkV4YW1wbGUgNDogRW1iZWQgYSBwbGF5bGlzdDwvaDQ+Cgo8cHJl
Pjxjb2RlPiZsdDt0eHA6YXJjX3lvdXR1YmUgdmlkZW89JnF1b3Q7aHR0cDovL3d3dy55b3V0
dWJlLmNvbS92aWV3X3BsYXlfbGlzdD9wPTJEQkZCNjBENTgxQUI5MDEmcXVvdDsgLyZndDsK
PC9jb2RlPjwvcHJlPgoKCTxwPlRoaXMgZW1iZWRzIGEgWW91dHViZSBwbGF5bGlzdCAoYSBz
aW5nbGUgcGxheWVyIHRoYXQgY3ljbGVzIHRocm91Z2ggdGhlIHZpZGVvcyBpbiB0aGUgcGxh
eWxpc3QpLiBBbHRlcm5hdGl2ZWx5IHRoZSBwbGF5bGlzdCBJRCBjYW4gYmUgdXNlZCB1c2lu
ZyB0aGUgJiM4MjE2O3BsYXlsaXN0JiM4MjE3OyBhdHRyaWJ1dGU6LTwvcD4KCjxwcmU+PGNv
ZGU+Jmx0O3R4cDphcmNfeW91dHViZSBwbGF5bGlzdD0mcXVvdDsyREJGQjYwRDU4MUFCOTAx
JnF1b3Q7IC8mZ3Q7CjwvY29kZT48L3ByZT4KCiI7czo0OiJjb2RlIjtzOjM5NzU6IgppZiAo
QHR4cGludGVyZmFjZSA9PSAnYWRtaW4nKQp7CglyZWdpc3Rlcl9jYWxsYmFjaygnX2FyY195
b3V0dWJlX2F1dG9fZW5hYmxlJywgJ3BsdWdpbl9saWZlY3ljbGUuYXJjX3lvdXR1YmUnLCAn
aW5zdGFsbGVkJyk7Cn0KCmZ1bmN0aW9uIGFyY195b3V0dWJlKCRhdHRzLCR0aGluZykKewoJ
Z2xvYmFsICR0aGlzYXJ0aWNsZTsKCiAgICBleHRyYWN0KGxBdHRzKGFycmF5KAogICAgICAg
ICd2aWRlbycgICAgID0+ICcnLAogICAgICAgICdwbGF5bGlzdCcgID0+ICcnLAogICAgICAg
ICdjdXN0b20nICAgID0+ICdZb3V0dWJlIElEJywKICAgICAgICAnd2lkdGgnICAgICA9PiAn
MCcsCiAgICAgICAgJ2hlaWdodCcgICAgPT4gJzAnLAogICAgICAgICdyYXRpbycgICAgID0+
ICc0OjMnLAogICAgICAgICdjb2xvcjEnICAgID0+ICcnLAogICAgICAgICdjb2xvcjInICAg
ID0+ICcnLAogICAgICAgICdib3JkZXInICAgID0+ICcwJywKICAgICAgICAnZnMnICAgICAg
ICA9PiAnMScsCiAgICAgICAgJ2hkJyAgICAgICAgPT4gJzAnLAogICAgICAgICdwcml2YWN5
JyAgID0+ICcwJywKICAgICAgICAnc3NsJyAgICAgICA9PiAnMCcsCiAgICAgICAgJ2F1dG8n
ICAgICAgPT4gJzAnLAogICAgICAgICdsYW5nJyAgICAgID0+ICdlbicsCiAgICAgICAgJ2xp
bmsnICAgICAgPT4gJzAnLAogICAgICAgICdsYWJlbCcgICAgID0+ICcnLAogICAgICAgICds
YWJlbHRhZycgID0+ICcnLAogICAgICAgICd3cmFwdGFnJyAgID0+ICcnLAogICAgICAgICdj
bGFzcycgICAgID0+IF9fRlVOQ1RJT05fXwogICAgKSwkYXR0cykpOwoKICAgICRjdXN0b20g
PSBzdHJ0b2xvd2VyKCRjdXN0b20pOwogICAgaWYgKCEkdmlkZW8gJiYgaXNzZXQoJHRoaXNh
cnRpY2xlWyRjdXN0b21dKSkgewogICAgICAgICR2aWRlbyA9ICR0aGlzYXJ0aWNsZVskY3Vz
dG9tXTsKICAgIH0KCiAgICAkdiA9ICIiOyAkcCA9ICIiOwoKICAgIC8vIENoZWNrIGZvciBZ
b3V0dWJlIHZpZGVvIElEIG9yIFlvdXR1YmUgVVJMIHRvIGV4dHJhY3QgSUQgZnJvbQoKICAg
IGlmIChwcmVnX21hdGNoKCIvXlthLXpBLVpdK1s6XC9cL10rW0EtWmEtejAtOVwtX10rXFwu
eW91dHViZVxcLitbQS1aYS16MC05XC5cLyUmPVw/XC1fXSskL2kiLCR2aWRlbykpIHsKCiAg
ICAgICAgJHVybGMgPSBwYXJzZV91cmwoJHZpZGVvKTsKICAgICAgICAkcXN0ciA9ICR1cmxj
WydxdWVyeSddOwogICAgICAgIHBhcnNlX3N0cigkcXN0ciwgJHFhcnIpOwoKICAgICAgICBp
ZiAoaXNzZXQoJHFhcnJbJ3YnXSkpIHsKCiAgICAgICAgICAgICR2ID0gJHFhcnJbJ3YnXTsK
CiAgICAgICAgfSBlbHNlaWYgKGlzc2V0KCRxYXJyWydwJ10pKSB7CgogICAgICAgICAgICAk
cCA9ICRxYXJyWydwJ107CgogICAgICAgIH0gZWxzZSB7CgogICAgICAgICAgICByZXR1cm4g
Jyc7CgogICAgICAgIH0KCiAgICB9IGVsc2VpZiAocHJlZ19tYXRjaCgiL15bYS16QS1aXStb
OlwvXC9dK3lvdXR1XC5iZVwvKFtBLVphLXowLTldKykvaSIsJHZpZGVvLCRtYXRjaGVzKSkg
ewoKICAgICAgICAkdiA9ICRtYXRjaGVzWzFdOwoKICAgIH0gZWxzZWlmICgkdmlkZW8pIHsK
CiAgICAgICAgJHYgPSAkdmlkZW87CgogICAgfSBlbHNlaWYgKCRwbGF5bGlzdCkgewoKICAg
ICAgICAkcCA9ICRwbGF5bGlzdDsKCiAgICB9IGVsc2UgewoKICAgICAgICByZXR1cm4gJyc7
CgogICAgfQoKICAgIGlmICgkcCkgewoKICAgICAgICAkdmxpbmsgPSAnaHR0cCcuKCgkc3Ns
KT8ncyc6JycpLic6Ly93d3cueW91dHViZScKICAgICAgICAgIC4oKCRwcml2YWN5KT8nLW5v
Y29va2llJzonJykuJy5jb20vcC8nLiRwOwoKICAgIH0gZWxzZWlmICgkdikgewoKICAgICAg
ICAkdmxpbmsgPSAnaHR0cCcuKCgkc3NsKT8ncyc6JycpLic6Ly93d3cueW91dHViZScKICAg
ICAgICAgIC4oKCRwcml2YWN5KT8nLW5vY29va2llJzonJykuJy5jb20vdi8nLiR2OwoKICAg
IH0KCiAgICBpZiAoJHZ8fCRwKSB7CgogICAgICAgICR0b29sYmFyX2ggPSAyNTsKCiAgICAg
ICAgaWYgKCEkd2lkdGggfHwgISRoZWlnaHQpIHsKICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0
aGUgYXNwZWN0IHJhdGlvCiAgICAgICAgICBwcmVnX21hdGNoKCIvKFswLTldKyk6KFswLTld
KykvIiwkcmF0aW8sJG1hdGNoZXMpOwogICAgICAgICAgaWYgKCRtYXRjaGVzWzBdICYmICRt
YXRjaGVzWzFdIT0wICYmICRtYXRjaGVzWzJdIT0wKSB7CiAgICAgICAgICAgICRhc3BlY3Qg
PSAkbWF0Y2hlc1sxXS8kbWF0Y2hlc1syXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAg
ICAgICRhc3BlY3QgPSAxLjMzMzsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGNhbGN1YXRl
IHRoZSBuZXcgd2lkdGgvaGVpZ2h0CiAgICAgICAgICBpZiAoJHdpZHRoKSB7CiAgICAgICAg
ICAgICRoZWlnaHQgPSAkd2lkdGgvJGFzcGVjdCArICR0b29sYmFyX2g7CiAgICAgICAgICB9
IGVsc2VpZiAoJGhlaWdodCkgewogICAgICAgICAgICAkd2lkdGggPSAoJGhlaWdodC0kdG9v
bGJhcl9oKSokYXNwZWN0OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJHdpZHRo
ID0gNDI1OwogICAgICAgICAgICAkaGVpZ2h0ID0gMzQ0OwogICAgICAgICAgfQogICAgICAg
IH0KCiAgICAgICAgJHNyYyA9ICR2bGluay4nP2hsPScuJGxhbmcKICAgICAgICAgICAgLigo
JGZzKT8nJmFtcDtmcz0xJzonJykKICAgICAgICAgICAgLigoJGF1dG8pPycmYW1wO2F1dG9w
bGF5PTEnOicnKQogICAgICAgICAgICAuKCgkY29sb3IxKT8nJmFtcDtjb2xvcjE9MHgnLiRj
b2xvcjE6JycpCiAgICAgICAgICAgIC4oKCRjb2xvcjIpPycmYW1wO2NvbG9yMj0weCcuJGNv
bG9yMjonJykKICAgICAgICAgICAgLigoJGJvcmRlcik/JyZhbXA7Ym9yZGVyPTEnOicnKQog
ICAgICAgICAgICAuKCgkaGQpPyc/aGQ9MSc6JycpOwoKICAgICAgICAkb3V0ID0gJzxvYmpl
Y3QgdHlwZT0iYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giICcKICAgICAgICAgICAg
LidzdHlsZT0id2lkdGg6Jy4kd2lkdGguJ3B4OyBoZWlnaHQ6Jy4kaGVpZ2h0LidweDsiICcK
ICAgICAgICAgICAgLidkYXRhPSInLiRzcmMuJyI+JwogICAgICAgICAgICAuJzxwYXJhbSBu
YW1lPSJtb3ZpZSIgdmFsdWU9IicuJHNyYy4nIj48L3BhcmFtPicKICAgICAgICAgICAgLic8
cGFyYW0gbmFtZT0iYWxsb3dGdWxsU2NyZWVuIiB2YWx1ZT0iJy4oKCRmcyk/J3RydWUnOidm
YWxzZScpLiciPjwvcGFyYW0+JwogICAgICAgICAgICAuJzxwYXJhbSBuYW1lPSJhbGxvd3Nj
cmlwdGFjY2VzcyIgdmFsdWU9ImFsd2F5cyI+PC9wYXJhbT4nCiAgICAgICAgICAgIC4nPC9v
YmplY3Q+JzsKCiAgICAgICAgaWYgKCRsaW5rKSB7CgogICAgICAgICAgICAkdXJsID0gJ3d3
dy55b3V0dWJlLmNvbS93YXRjaD92PScuJHY7CiAgICAgICAgICAgICRvdXQuPSAnPHA+PGEg
aHJlZj0iaHR0cDovLycuJHVybC4nIj4nCiAgICAgICAgICAgICAgICAuKCgkdGhpbmcpP3Bh
cnNlKCR0aGluZyk6JHVybCkKICAgICAgICAgICAgICAgIC4nPC9hPjwvcD4nOwoKICAgICAg
ICB9CgogICAgICAgIHJldHVybiBkb0xhYmVsKCRsYWJlbCwgJGxhYmVsdGFnKS4oKCR3cmFw
dGFnKSA/IGRvVGFnKCRvdXQsICR3cmFwdGFnLCAkY2xhc3MpIDogJG91dCk7CgogICAgfQoK
fQoKLy8gQXV0byBlbmFibGUgcGx1Z2luIG9uIGluc3RhbGwgKG9yaWdpbmFsIGlkZWEgYnkg
TWljaGFlbCBNYW5mcmUpCmZ1bmN0aW9uIF9hcmNfeW91dHViZV9hdXRvX2VuYWJsZSgkZXZl
bnQsICRzdGVwKQp7CiAgJHBsdWdpbiA9IHN1YnN0cigkZXZlbnQsIHN0cmxlbigncGx1Z2lu
X2xpZmVjeWNsZS4nKSk7CiAgJHByZWZpeCA9ICdhcmNfeW91dHViZSc7CiAgaWYgKHN0cm5j
bXAoJHBsdWdpbiwgJHByZWZpeCwgc3RybGVuKCRwcmVmaXgpKSA9PSAwKQogIHsKICAgIHNh
ZmVfdXBkYXRlKCd0eHBfcGx1Z2luJywgInN0YXR1cyA9IDEiLCAibmFtZSA9ICciIC4gZG9T
bGFzaCgkcGx1Z2luKSAuICInIik7CiAgfQp9CiI7czozOiJtZDUiO3M6MzI6ImFlMTQ3YzRj
OTZjMzI3ZTE2NDkzYjAxYTRhMTY3Yjg5Ijt9
