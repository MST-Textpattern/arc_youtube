# arc_youtube v1.0.1
# Embed Youtube videos with customised player
# Andy Carter
# http://www.redhotchilliproject.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YToxMDp7czo0OiJuYW1lIjtzOjExOiJhcmNfeW91dHViZSI7czo3OiJ2ZXJzaW9uIjtzOjU6
IjEuMC4xIjtzOjY6ImF1dGhvciI7czoxMToiQW5keSBDYXJ0ZXIiO3M6MTA6ImF1dGhvcl91
cmkiO3M6MzU6Imh0dHA6Ly93d3cucmVkaG90Y2hpbGxpcHJvamVjdC5jb20vIjtzOjExOiJk
ZXNjcmlwdGlvbiI7czo0MzoiRW1iZWQgWW91dHViZSB2aWRlb3Mgd2l0aCBjdXN0b21pc2Vk
IHBsYXllciI7czo0OiJ0eXBlIjtpOjE7czo1OiJmbGFncyI7aToyO3M6NDoiaGVscCI7czo2
MzQ5OiIJPGgzPkRlc2NyaXB0aW9uPC9oMz4KCgk8cD5FYXNpbHkgZW1iZWQgWW91dHViZSB2
aWRlb3MgaW4gYXJ0aWNsZXMgYW5kIGN1c3RvbWlzZSB0aGUgYXBwZWFyYW5jZSBvZiB0aGUg
cGxheWVyLiBhcmNfeW91dHViZSB1c2VzIHRoZSBuZXcgaWZyYW1lIHBsYXllci48L3A+CgoJ
PGgzPkluc3RhbGxhdGlvbjwvaDM+CgoJPHA+VG8gaW5zdGFsbCBnbyB0byB0aGUgJiM4MjE2
O3BsdWdpbnMmIzgyMTc7IHRhYiB1bmRlciAmIzgyMTY7YWRtaW4mIzgyMTc7IGFuZCBwYXN0
ZSB0aGUgcGx1Z2luIGNvZGUgaW50byB0aGUgJiM4MjE2O0luc3RhbGwgcGx1Z2luJiM4MjE3
OyBib3gsICYjODIxNjt1cGxvYWQmIzgyMTc7IGFuZCB0aGVuICYjODIxNjtpbnN0YWxsJiM4
MjE3Oy4gUGxlYXNlIG5vdGUgdGhhdCB5b3Ugd2lsbCBuZWVkIHRvIHNldC11cCBhIGN1c3Rv
bSBmaWVsZCB0byB1c2UgZm9yIGFzc29jaWF0aW5nIHZpZGVvcyB3aXRoIGFydGljbGVzLCB1
bmxlc3MgeW91IGNob29zZSB0byBkaXJlY3RseSBlbWJlZCB0aGUgbmV3IHRhZyBpbiB0aGUg
YXJ0aWNsZSB0ZXh0LjwvcD4KCgk8aDM+U3ludGF4PC9oMz4KCjxwcmU+PGNvZGU+Jmx0O3R4
cDphcmNfeW91dHViZSAvJmd0Owo8L2NvZGU+Cjxjb2RlPiZsdDt0eHA6YXJjX3lvdXR1YmUg
dmlkZW89JnF1b3Q7dGdiTnltWjd2cVkmcXVvdDsgd2lkdGg9JnF1b3Q7NTAwJnF1b3Q7IHJh
dGlvPSZxdW90OzE2OjkmcXVvdDsgLyZndDsKPC9jb2RlPgo8Y29kZT4mbHQ7dHhwOmFyY195
b3V0dWJlIHZpZGVvPSZxdW90O2h0dHA6Ly91ay55b3V0dWJlLmNvbS93YXRjaD92PXRnYk55
bVo3dnFZJnF1b3Q7IHdpZHRoPSZxdW90OzUwMCZxdW90OyByYXRpbz0mcXVvdDsxNjo5JnF1
b3Q7IC8mZ3Q7CjwvY29kZT48L3ByZT4KCgk8cD5vciw8L3A+Cgo8cHJlPjxjb2RlPiZsdDt0
eHA6YXJjX3lvdXR1YmUgbGluaz0mcXVvdDsxJnF1b3Q7Jmd0O0xpbmsmbHQ7L3R4cDphcmNf
eW91dHViZSZndDsKPC9jb2RlPjwvcHJlPgoKCTxoMz5Vc2FnZTwvaDM+CgoJPGg0PlZpZGVv
IGFuZCBwbGF5bGlzdHM8L2g0PgoKCTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1dGU8
L3RoPgoJCQk8dGg+RGVzY3JpcHRpb248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJCTx0
aD5FeGFtcGxlPC90aD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPnZpZGVvPC90ZD4KCQkJPHRk
PllvdXR1YmUgdXJsPHN1cCBjbGFzcz0iZm9vdG5vdGUiPjxhIGhyZWY9IiNmbjE3OTQ3NTQ5
NzRmMDQ5NWFmOGE5MzQiPjE8L2E+PC9zdXA+IG9yIHZpZGVvIElEIGZvciB0aGUgdmlkZW8g
eW91IHdhbnQgdG8gZW1iZWQ8L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwvZW0+PC90ZD4KCQkJ
PHRkPnZpZGVvPSYjODIyMDt0YTdWSEtHdW9KWSYjODIyMTs8L3RkPgoJCTwvdHI+CgkJPHRy
PgoJCQk8dGQ+cGxheWxpc3Q8L3RkPgoJCQk8dGQ+WW91dHViZSBwbGF5bGlzdCBJRCBmb3Ig
dGhlIHBsYXlsaXN0IHlvdSB3YW50IHRvIGVtYmVkPC90ZD4KCQkJPHRkPiA8ZW0+dW5zZXQ8
L2VtPjwvdGQ+CgkJCTx0ZD5wbGF5bGlzdD0mIzgyMjA7MkRCRkI2MEQ1ODFBQjkwMSYjODIy
MTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+c3RhcnQ8L3RkPgoJCQk8dGQ+U3RhcnQg
cG9zaXRpb24gb2YgdGhlIHZpZGVvIGFzIGFuIGludGVnZXI8L3RkPgoJCQk8dGQ+MDwvdGQ+
CgkJCTx0ZD5zdGFydD0mIzgyMjA7NjAmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJ
PHRkPmN1c3RvbTwvdGQ+CgkJCTx0ZD5OYW1lIG9mIHRoZSBjdXN0b20gZmllbGQgY29udGFp
bmluZyB2aWRlbyBJRHMvdXJscyBhc3NvY2lhdGVkIHdpdGggYXJ0aWNsZTwvdGQ+CgkJCTx0
ZD5Zb3V0dWJlIElEPC90ZD4KCQkJPHRkPmN1c3RvbT0mIzgyMjA7dmlkZW8mIzgyMjE7PC90
ZD4KCQk8L3RyPgoJPC90YWJsZT4KCgk8cCBpZD0iZm4xNzk0NzU0OTc0ZjA0OTVhZjhhOTM0
IiBjbGFzcz0iZm9vdG5vdGUiPjxzdXA+MTwvc3VwPiBUaGUgdXJsIGNhbiBiZSBlaXRoZXIg
Zm9yIGFuIGluZGl2aWR1YWwgdmlkZW8gb3IgZm9yIGEgcGxheWxpc3QuPC9wPgoKCTxoND5C
YXNpY3M8L2g0PgoKCTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1dGU8L3RoPgoJCQk8
dGg+RGVzY3JpcHRpb248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJCTx0aD5FeGFtcGxl
PC90aD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmxpbms8L3RkPgoJCQk8dGQ+U2V0IHRvICYj
ODIxNjsxJiM4MjE3OyB0byBzaG93IGEgbGluayB0byB0aGUgWW91dHViZSB2aWRlbyBwYWdl
IGJlbG93IHRoZSBwbGF5ZXI7IHRoZSBsaW5rIHRleHQgd2lsbCBiZSB0aGUgPHNwYW4gY2xh
c3M9ImNhcHMiPjxzcGFuIGNsYXNzPSJjYXBzIj5VUkw8L3NwYW4+PC9zcGFuPiBvciB0aGUg
dGV4dCBiZXR3ZWVuIG9wZW5pbmcgYW5kIGNsb3NpbmcgdGFnczwvdGQ+CgkJCTx0ZD4wPC90
ZD4KCQkJPHRkPmxpbms9JiM4MjIwOzEmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJ
PHRkPmxhYmVsPC90ZD4KCQkJPHRkPkxhYmVsIGZvciB0aGUgdmlkZW88L3RkPgoJCQk8dGQ+
IDxlbT5ubyBsYWJlbDwvZW0+PC90ZD4KCQkJPHRkPmxhYmVsPSYjODIyMDtZb3V0dWJlIHZp
ZGVvJiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5sYWJlbHRhZzwvdGQ+CgkJ
CTx0ZD5JbmRlcGVuZGVudCB3cmFwdGFnIGZvciBsYWJlbDwvdGQ+CgkJCTx0ZD4gPGVtPmVt
cHR5PC9lbT48L3RkPgoJCQk8dGQ+bGFiZWx0YWc9JiM4MjIwO2gzJiM4MjIxOzwvdGQ+CgkJ
PC90cj4KCQk8dHI+CgkJCTx0ZD53cmFwdGFnPC90ZD4KCQkJPHRkPjxzcGFuIGNsYXNzPSJj
YXBzIj48c3BhbiBjbGFzcz0iY2FwcyI+SFRNTDwvc3Bhbj48L3NwYW4+IHRhZyB0byBiZSB1
c2VkIGFzIHRoZSB3cmFwdGFnLCB3aXRob3V0IGJyYWNrZXRzPC90ZD4KCQkJPHRkPiA8ZW0+
dW5zZXQ8L2VtPjwvdGQ+CgkJCTx0ZD53cmFwdGFnPSYjODIyMDtkaXYmIzgyMjE7PC90ZD4K
CQk8L3RyPgoJCTx0cj4KCQkJPHRkPmNsYXNzPC90ZD4KCQkJPHRkPjxzcGFuIGNsYXNzPSJj
YXBzIj48c3BhbiBjbGFzcz0iY2FwcyI+Q1NTPC9zcGFuPjwvc3Bhbj4gY2xhc3MgYXR0cmli
dXRlIGZvciB3cmFwdGFnPC90ZD4KCQkJPHRkPmFyY195b3V0dWJlPC90ZD4KCQkJPHRkPmNs
YXNzPSYjODIyMDt5b3V0dWJlJiM4MjIxOzwvdGQ+CgkJPC90cj4KCTwvdGFibGU+CgoJPGg0
PkN1c3RvbWlzaW5nIHRoZSBZb3V0dWJlIHBsYXllcjwvaDQ+CgoJPHA+WW91IGNhbiBjdXN0
b21pc2UgdGhlIGFwcGVhcmFuY2Ugb2YgdGhlIFlvdXR1YmUgZmxhc2ggcGxheWVyIHVzaW5n
IHRoaXMgcGx1Z2luIHRvIGRlZmluZSBjb2xvdXJzLCBzaXplLCBhbmQgbGFuZ3VhZ2Ugc2V0
dGluZ3MuPC9wPgoKCTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1dGU8L3RoPgoJCQk8
dGg+RGVzY3JpcHRpb248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJCTx0aD5FeGFtcGxl
PC90aD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPndpZHRoPC90ZD4KCQkJPHRkPldpZHRoIG9m
IHZpZGVvPC90ZD4KCQkJPHRkPjA8L3RkPgoJCQk8dGQ+d2lkdGg9JiM4MjIwOzIwMCYjODIy
MTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+aGVpZ2h0PC90ZD4KCQkJPHRkPkhlaWdo
dCBvZiB2aWRlbzwvdGQ+CgkJCTx0ZD4wPC90ZD4KCQkJPHRkPmhlaWdodD0mIzgyMjA7MTUw
JiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5yYXRpbzwvdGQ+CgkJCTx0ZD5B
c3BlY3QgcmF0aW88L3RkPgoJCQk8dGQ+NDozPC90ZD4KCQkJPHRkPnJhdGlvbj0mIzgyMjA7
MTY6OSYjODIyMTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+dGhlbWU8L3RkPgoJCQk8
dGQ+VXNlIGVpdGhlciB0aGUgJiM4MjIwO2RhcmsmIzgyMjE7IG9yICYjODIyMDtsaWdodCYj
ODIyMTsgWW91dHViZSBwbGF5ZXI8L3RkPgoJCQk8dGQ+ZGFyazwvdGQ+CgkJCTx0ZD50aGVt
ZT0mIzgyMjA7bGlnaHQmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmNvbG9y
PC90ZD4KCQkJPHRkPlVzZSBlaXRoZXIgYSAmIzgyMjA7cmVkJiM4MjIxOyBvciAmIzgyMjA7
d2hpdGUmIzgyMjE7IHZpZGVvIHByb2dyZXNzIGJhcjwvdGQ+CgkJCTx0ZD5yZWQ8L3RkPgoJ
CQk8dGQ+Y29sb3I9JiM4MjIwO3doaXRlJiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJ
CTx0ZD5mczwvdGQ+CgkJCTx0ZD4mIzgyMTY7MSYjODIxNzsgdG8gYWxsb3cgZnVsbCBzY3Jl
ZW4sICYjODIxNjswJiM4MjE3OyB0byAgZGlzYWJsZSBmdWxsIHNjcmVlbiBtb2RlPC90ZD4K
CQkJPHRkPjE8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+aGQ8L3RkPgoJCQk8dGQ+JiM4
MjE2OzEmIzgyMTc7IHRvIHBsYXkgdmlkZW8gaW4gSEQsICYjODIxNjswJiM4MjE3OyB0byBm
b3Igbm9ybWFsIHBsYXk8L3RkPgoJCQk8dGQ+MDwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0
ZD5hdXRvPC90ZD4KCQkJPHRkPiYjODIxNjsxJiM4MjE3OyB0byBhdXRvcGxheSB0aGUgdmlk
ZW8sICYjODIxNjswJiM4MjE3OyB0byB0dXJuIG9mZiBhdXRvcGxheSAoZGVmYXVsdCk8L3Rk
PgoJCQk8dGQ+MDwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5wcml2YWN5PC90ZD4KCQkJ
PHRkPiYjODIxNjsxJiM4MjE3OyBmb3IgZW5oYW5jZWQgcHJpdmFjeSBtb2RlLCBubyBjb29r
aWVzIHVubGVzcyB0aGUgdXNlciBjbGlja3MgcGxheSwgJiM4MjE2OzAmIzgyMTc7IG5vcm1h
bCBtb2RlPC90ZD4KCQkJPHRkPjA8L3RkPgoJCQk8dGQ+cHJpdmFjeT0mIzgyMTY7MSYjODIx
Nzs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+c3NsPC90ZD4KCQkJPHRkPiYjODIxNjsx
JiM4MjE3OyB0byB1c2UgPHNwYW4gY2xhc3M9ImNhcHMiPjxzcGFuIGNsYXNzPSJjYXBzIj5I
VFRQUzwvc3Bhbj48L3NwYW4+IHByb3RvY29sPC90ZD4KCQkJPHRkPjA8L3RkPgoJCTwvdHI+
Cgk8L3RhYmxlPgoKCTxoMz5FeGFtcGxlczwvaDM+CgoJPGg0PkV4YW1wbGUgMTogVXNlIGN1
c3RvbSBmaWVsZCB0byBhc3NvY2lhdGUgdmlkZW8gd2l0aCBhbiBhcnRpY2xlPC9oND4KCgk8
cD48dHhwOmFyY195b3V0dWJlIGN1c3RvbT0iWW91dHViZSIgLz48L3A+CgoJPGg0PkV4YW1w
bGUgMjogQ3VzdG9taXNlIHRoZSBhcHBlYXJhbmNlIG9mIHRoZSBwbGF5ZXIgYW5kIGFzc29j
aWF0ZSB2aWRlbyB3aXRoIGN1c3RvbSBmaWVsZDwvaDQ+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6
YXJjX3lvdXR1YmUgY29sb3IxPSZxdW90OzAwNjY5OSZxdW90OyBjb2xvcjI9JnF1b3Q7NTRh
YmQ2JnF1b3Q7IGJvcmRlcj0mcXVvdDsxJnF1b3Q7IGN1c3RvbT0mcXVvdDtZb3V0dWJlJnF1
b3Q7IC8mZ3Q7CjwvY29kZT48L3ByZT4KCgk8cD5UaGlzIHdpbGwgcGxhY2UgYSBib3JkZXIg
YXJvdW5kIHRoZSBwbGF5ZXIgYW5kIGNoYW5nZSBpdHMgY29sb3VyIHNjaGVtZSB0byBhIGJs
dWUgb25lLiBBcyBleGFtcGxlIDEsIHRoZSB2aWRlbyBpcyBzZWxlY3RlZCB1c2luZyBhbiBh
cnRpY2xlJiM4MjE3O3MgY3VzdG9tIGZpZWxkIGNhbGxlZCAmIzgyMTY7WW91dHViZSYjODIx
NzsuPC9wPgoKCTxoND5FeGFtcGxlIDM6IFNtYWxsIHZpZGVvIHBsYXllciB3aXRoIGZpeGVk
IHZpZGVvPC9oND4KCjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfeW91dHViZSB3aWR0aD0mcXVv
dDsyMDAmcXVvdDsgdmlkZW89JnF1b3Q7dGdiTnltWjd2cVkmcXVvdDsgLyZndDsKPC9jb2Rl
PjwvcHJlPgoKCTxwPkhlcmUgdGhlIHZpZGVvIGlzIGRlZmluZWQgd2l0aGluIHRoZSB0YWcg
dXNpbmcgdGhlIHZpZGVvIGF0dHJpYnV0ZSB3aGljaCBoYXMgYmVlbiBnaXZlbiB0aGUgdmFs
dWUgb2YgWW91dHViZSYjODIxNztzIHZpZGVvIElELCBhbHRlcm5hdGl2ZWx5IHRoaXMgdmFs
dWUgY291bGQgaGF2ZSBiZWVuIHRoZSB2aWRlbyYjODIxNztzIDxzcGFuIGNsYXNzPSJjYXBz
Ij5VUkw8L3NwYW4+LjwvcD4KCgk8aDQ+RXhhbXBsZSA0OiBFbWJlZCBhIHBsYXlsaXN0PC9o
ND4KCjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfeW91dHViZSB2aWRlbz0mcXVvdDtodHRwOi8v
d3d3LnlvdXR1YmUuY29tL3ZpZXdfcGxheV9saXN0P3A9MkRCRkI2MEQ1ODFBQjkwMSZxdW90
OyAvJmd0Owo8L2NvZGU+PC9wcmU+CgoJPHA+VGhpcyBlbWJlZHMgYSBZb3V0dWJlIHBsYXls
aXN0IChhIHNpbmdsZSBwbGF5ZXIgdGhhdCBjeWNsZXMgdGhyb3VnaCB0aGUgdmlkZW9zIGlu
IHRoZSBwbGF5bGlzdCkuIEFsdGVybmF0aXZlbHkgdGhlIHBsYXlsaXN0IElEIGNhbiBiZSB1
c2VkIHVzaW5nIHRoZSAmIzgyMTY7cGxheWxpc3QmIzgyMTc7IGF0dHJpYnV0ZTotPC9wPgoK
PHByZT48Y29kZT4mbHQ7dHhwOmFyY195b3V0dWJlIHBsYXlsaXN0PSZxdW90OzJEQkZCNjBE
NTgxQUI5MDEmcXVvdDsgLyZndDsKPC9jb2RlPjwvcHJlPgoKIjtzOjQ6ImNvZGUiO3M6Mzcx
MzoiCmlmIChAdHhwaW50ZXJmYWNlID09ICdhZG1pbicpCnsKCXJlZ2lzdGVyX2NhbGxiYWNr
KCdfYXJjX3lvdXR1YmVfYXV0b19lbmFibGUnLCAncGx1Z2luX2xpZmVjeWNsZS5hcmNfeW91
dHViZScsICdpbnN0YWxsZWQnKTsKfQoKZnVuY3Rpb24gYXJjX3lvdXR1YmUoJGF0dHMsJHRo
aW5nKQp7CglnbG9iYWwgJHRoaXNhcnRpY2xlOwoKICAgIGV4dHJhY3QobEF0dHMoYXJyYXko
CiAgICAgICAgJ3ZpZGVvJyAgICAgPT4gJycsCiAgICAgICAgJ3BsYXlsaXN0JyAgPT4gJycs
CiAgICAgICAgJ2N1c3RvbScgICAgPT4gJ1lvdXR1YmUgSUQnLAogICAgICAgICd3aWR0aCcg
ICAgID0+ICcwJywKICAgICAgICAnaGVpZ2h0JyAgICA9PiAnMCcsCiAgICAgICAgJ3JhdGlv
JyAgICAgPT4gJzQ6MycsCiAgICAgICAgJ2NvbG9yJyAgICAgPT4gJ3JlZCcsIC8vIG9yICd3
aGl0ZScKICAgICAgICAnZnMnICAgICAgICA9PiAnMScsCiAgICAgICAgJ2hkJyAgICAgICAg
PT4gMCwKICAgICAgICAnc3RhcnQnICAgICA9PiAwLAogICAgICAgICd0aGVtZScgICAgID0+
ICdkYXJrJywKICAgICAgICAncHJpdmFjeScgICA9PiAnMCcsCiAgICAgICAgJ3NzbCcgICAg
ICAgPT4gJzAnLAogICAgICAgICdhdXRvJyAgICAgID0+ICcwJywKICAgICAgICAnbGluaycg
ICAgICA9PiAnMCcsCiAgICAgICAgJ2xhYmVsJyAgICAgPT4gJycsCiAgICAgICAgJ2xhYmVs
dGFnJyAgPT4gJycsCiAgICAgICAgJ3dyYXB0YWcnICAgPT4gJycsCiAgICAgICAgJ2NsYXNz
JyAgICAgPT4gX19GVU5DVElPTl9fCiAgICApLCRhdHRzKSk7CgogICAgJGN1c3RvbSA9IHN0
cnRvbG93ZXIoJGN1c3RvbSk7CiAgICBpZiAoISR2aWRlbyAmJiBpc3NldCgkdGhpc2FydGlj
bGVbJGN1c3RvbV0pKSB7CiAgICAgICAgJHZpZGVvID0gJHRoaXNhcnRpY2xlWyRjdXN0b21d
OwogICAgfQoKICAgICR2ID0gIiI7ICRwID0gIiI7CgogICAgLy8gQ2hlY2sgZm9yIFlvdXR1
YmUgdmlkZW8gSUQgb3IgWW91dHViZSBVUkwgdG8gZXh0cmFjdCBJRCBmcm9tCgogICAgaWYg
KHByZWdfbWF0Y2goIi9eW2EtekEtWl0rWzpcL1wvXStbQS1aYS16MC05XC1fXStcXC55b3V0
dWJlXFwuK1tBLVphLXowLTlcLlwvJSY9XD9cLV9dKyQvaSIsJHZpZGVvKSkgewoKICAgICAg
ICAkdXJsYyA9IHBhcnNlX3VybCgkdmlkZW8pOwogICAgICAgICRxc3RyID0gJHVybGNbJ3F1
ZXJ5J107CiAgICAgICAgcGFyc2Vfc3RyKCRxc3RyLCAkcWFycik7CgogICAgICAgIGlmIChp
c3NldCgkcWFyclsndiddKSkgewoKICAgICAgICAgICAgJHYgPSAkcWFyclsndiddOwoKICAg
ICAgICB9IGVsc2VpZiAoaXNzZXQoJHFhcnJbJ3AnXSkpIHsKCiAgICAgICAgICAgICRwID0g
JHFhcnJbJ3AnXTsKCiAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgIHJldHVybiAnJzsK
CiAgICAgICAgfQoKICAgIH0gZWxzZWlmIChwcmVnX21hdGNoKCIvXlthLXpBLVpdK1s6XC9c
L10reW91dHVcLmJlXC8oW0EtWmEtejAtOV0rKS9pIiwkdmlkZW8sJG1hdGNoZXMpKSB7Cgog
ICAgICAgICR2ID0gJG1hdGNoZXNbMV07CgogICAgfSBlbHNlaWYgKCR2aWRlbykgewoKICAg
ICAgICAkdiA9ICR2aWRlbzsKCiAgICB9IGVsc2VpZiAoJHBsYXlsaXN0KSB7CgogICAgICAg
ICRwID0gJHBsYXlsaXN0OwoKICAgIH0gZWxzZSB7CgogICAgICAgIHJldHVybiAnJzsKCiAg
ICB9CgogICAgaWYgKCRwKSB7CgogICAgICAgICR2bGluayA9ICdodHRwJy4oKCRzc2wpPydz
JzonJykuJzovL3d3dy55b3V0dWJlJwogICAgICAgICAgLigoJHByaXZhY3kpPyctbm9jb29r
aWUnOicnKS4nLmNvbS9wLycuJHA7CgogICAgfSBlbHNlaWYgKCR2KSB7CgogICAgICAgICR2
bGluayA9ICdodHRwJy4oKCRzc2wpPydzJzonJykuJzovL3d3dy55b3V0dWJlJwogICAgICAg
ICAgLigoJHByaXZhY3kpPyctbm9jb29raWUnOicnKS4nLmNvbS9lbWJlZC8nLiR2OwoKICAg
IH0KCiAgICBpZiAoJHZ8fCRwKSB7CgogICAgICAgICR0b29sYmFyX2ggPSAyNTsKCiAgICAg
ICAgaWYgKCEkd2lkdGggfHwgISRoZWlnaHQpIHsKICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0
aGUgYXNwZWN0IHJhdGlvCiAgICAgICAgICBwcmVnX21hdGNoKCIvKFswLTldKyk6KFswLTld
KykvIiwkcmF0aW8sJG1hdGNoZXMpOwogICAgICAgICAgaWYgKCRtYXRjaGVzWzBdICYmICRt
YXRjaGVzWzFdIT0wICYmICRtYXRjaGVzWzJdIT0wKSB7CiAgICAgICAgICAgICRhc3BlY3Qg
PSAkbWF0Y2hlc1sxXS8kbWF0Y2hlc1syXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAg
ICAgICRhc3BlY3QgPSAxLjMzMzsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGNhbGN1YXRl
IHRoZSBuZXcgd2lkdGgvaGVpZ2h0CiAgICAgICAgICBpZiAoJHdpZHRoKSB7CiAgICAgICAg
ICAgICRoZWlnaHQgPSAkd2lkdGgvJGFzcGVjdCArICR0b29sYmFyX2g7CiAgICAgICAgICB9
IGVsc2VpZiAoJGhlaWdodCkgewogICAgICAgICAgICAkd2lkdGggPSAoJGhlaWdodC0kdG9v
bGJhcl9oKSokYXNwZWN0OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJHdpZHRo
ID0gNDI1OwogICAgICAgICAgICAkaGVpZ2h0ID0gMzQ0OwogICAgICAgICAgfQogICAgICAg
IH0KCiAgICAgICAgJHNyYyA9ICR2bGluay4nP3RoZW1lPScuKCgkdGhlbWU9PSdkYXJrJyk/
J2RhcmsnOidsaWdodCcpCiAgICAgICAgICAgIC4nJmFtcDtjb2xvcj0nLigoJGNvbG9yPT0n
cmVkJyk/J3JlZCc6J3doaXRlJykKICAgICAgICAgICAgLigoJGZzKT8nJmFtcDtmcz0xJzon
JykKICAgICAgICAgICAgLigoJGF1dG8pPycmYW1wO2F1dG9wbGF5PTEnOicnKQogICAgICAg
ICAgICAuKCgkaGQpPycmYW1wO2hkPTEnOicnKQogICAgICAgICAgICAuKCgkc3RhcnQpPycm
YW1wO3N0YXJ0PScuJHN0YXJ0OicnKTsKCiAgICAgICAgJG91dCA9ICc8aWZyYW1lIHdpZHRo
PSInLiR3aWR0aC4nIiBoZWlnaHQ9IicuJGhlaWdodAogICAgICAgICAgLiciIHNyYz0iJy4k
c3JjLiciIGZyYW1lYm9yZGVyPSIwIicKICAgICAgICAgIC4oKCRmcyk/JyBhbGxvd2Z1bGxz
Y3JlZW4nOicnKS4nPjwvaWZyYW1lPic7CgogICAgICAgIGlmICgkbGluaykgewoKICAgICAg
ICAgICAgJHVybCA9ICd3d3cueW91dHViZS5jb20vd2F0Y2g/dj0nLiR2OwogICAgICAgICAg
ICAkb3V0Lj0gJzxwPjxhIGhyZWY9Imh0dHA6Ly8nLiR1cmwuJyI+JwogICAgICAgICAgICAg
ICAgLigoJHRoaW5nKT9wYXJzZSgkdGhpbmcpOiR1cmwpCiAgICAgICAgICAgICAgICAuJzwv
YT48L3A+JzsKCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZG9MYWJlbCgkbGFiZWwsICRs
YWJlbHRhZykuKCgkd3JhcHRhZykgPyBkb1RhZygkb3V0LCAkd3JhcHRhZywgJGNsYXNzKSA6
ICRvdXQpOwoKICAgIH0KCn0KCi8vIEF1dG8gZW5hYmxlIHBsdWdpbiBvbiBpbnN0YWxsIChv
cmlnaW5hbCBpZGVhIGJ5IE1pY2hhZWwgTWFuZnJlKQpmdW5jdGlvbiBfYXJjX3lvdXR1YmVf
YXV0b19lbmFibGUoJGV2ZW50LCAkc3RlcCkKewogICRwbHVnaW4gPSBzdWJzdHIoJGV2ZW50
LCBzdHJsZW4oJ3BsdWdpbl9saWZlY3ljbGUuJykpOwogICRwcmVmaXggPSAnYXJjX3lvdXR1
YmUnOwogIGlmIChzdHJuY21wKCRwbHVnaW4sICRwcmVmaXgsIHN0cmxlbigkcHJlZml4KSkg
PT0gMCkKICB7CiAgICBzYWZlX3VwZGF0ZSgndHhwX3BsdWdpbicsICJzdGF0dXMgPSAxIiwg
Im5hbWUgPSAnIiAuIGRvU2xhc2goJHBsdWdpbikgLiAiJyIpOwogIH0KfQoiO3M6MzoibWQ1
IjtzOjMyOiJiODFkOWI1MWM3ZTNlY2Q2YzQyNGNmNTc0NjZiOWFhYSI7fQ==
