# arc_youtube v1.0
# Embed Youtube videos with customised player
# Andy Carter
# http://www.redhotchilliproject.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YToxMDp7czo0OiJuYW1lIjtzOjExOiJhcmNfeW91dHViZSI7czo3OiJ2ZXJzaW9uIjtzOjM6
IjEuMCI7czo2OiJhdXRob3IiO3M6MTE6IkFuZHkgQ2FydGVyIjtzOjEwOiJhdXRob3JfdXJp
IjtzOjM1OiJodHRwOi8vd3d3LnJlZGhvdGNoaWxsaXByb2plY3QuY29tLyI7czoxMToiZGVz
Y3JpcHRpb24iO3M6NDM6IkVtYmVkIFlvdXR1YmUgdmlkZW9zIHdpdGggY3VzdG9taXNlZCBw
bGF5ZXIiO3M6NDoidHlwZSI7aToxO3M6NToiZmxhZ3MiO2k6MjtzOjQ6ImhlbHAiO3M6NjM1
MToiCTxoMz5EZXNjcmlwdGlvbjwvaDM+CgoJPHA+RWFzaWx5IGVtYmVkIFlvdXR1YmUgdmlk
ZW9zIGluIGFydGljbGVzIGFuZCBjdXN0b21pc2UgdGhlIGFwcGVhcmFuY2Ugb2YgdGhlIHBs
YXllci4gYXJjX3lvdXR1YmUgdXNlcyB0aGUgbmV3IGlmcmFtZSBwbGF5ZXIuPC9wPgoKCTxo
Mz5JbnN0YWxsYXRpb248L2gzPgoKCTxwPlRvIGluc3RhbGwgZ28gdG8gdGhlICYjODIxNjtw
bHVnaW5zJiM4MjE3OyB0YWIgdW5kZXIgJiM4MjE2O2FkbWluJiM4MjE3OyBhbmQgcGFzdGUg
dGhlIHBsdWdpbiBjb2RlIGludG8gdGhlICYjODIxNjtJbnN0YWxsIHBsdWdpbiYjODIxNzsg
Ym94LCAmIzgyMTY7dXBsb2FkJiM4MjE3OyBhbmQgdGhlbiAmIzgyMTY7aW5zdGFsbCYjODIx
NzsuIFBsZWFzZSBub3RlIHRoYXQgeW91IHdpbGwgbmVlZCB0byBzZXQtdXAgYSBjdXN0b20g
ZmllbGQgdG8gdXNlIGZvciBhc3NvY2lhdGluZyB2aWRlb3Mgd2l0aCBhcnRpY2xlcywgdW5s
ZXNzIHlvdSBjaG9vc2UgdG8gZGlyZWN0bHkgZW1iZWQgdGhlIG5ldyB0YWcgaW4gdGhlIGFy
dGljbGUgdGV4dC48L3A+CgoJPGgzPlN5bnRheDwvaDM+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6
YXJjX3lvdXR1YmUgLyZndDsKPC9jb2RlPgo8Y29kZT4mbHQ7dHhwOmFyY195b3V0dWJlIHZp
ZGVvPSZxdW90O3RnYk55bVo3dnFZJnF1b3Q7IHdpZHRoPSZxdW90OzUwMCZxdW90OyByYXRp
bz0mcXVvdDsxNjo5JnF1b3Q7IC8mZ3Q7CjwvY29kZT4KPGNvZGU+Jmx0O3R4cDphcmNfeW91
dHViZSB2aWRlbz0mcXVvdDtodHRwOi8vdWsueW91dHViZS5jb20vd2F0Y2g/dj10Z2JOeW1a
N3ZxWSZxdW90OyB3aWR0aD0mcXVvdDs1MDAmcXVvdDsgcmF0aW89JnF1b3Q7MTY6OSZxdW90
OyAvJmd0Owo8L2NvZGU+PC9wcmU+CgoJPHA+b3IsPC9wPgoKPHByZT48Y29kZT4mbHQ7dHhw
OmFyY195b3V0dWJlIGxpbms9JnF1b3Q7MSZxdW90OyZndDtMaW5rJmx0Oy90eHA6YXJjX3lv
dXR1YmUmZ3Q7CjwvY29kZT48L3ByZT4KCgk8aDM+VXNhZ2U8L2gzPgoKCTxoND5WaWRlbyBh
bmQgcGxheWxpc3RzPC9oND4KCgk8dGFibGU+CgkJPHRyPgoJCQk8dGg+QXR0cmlidXRlPC90
aD4KCQkJPHRoPkRlc2NyaXB0aW9uPC90aD4KCQkJPHRoPkRlZmF1bHQ8L3RoPgoJCQk8dGg+
RXhhbXBsZTwvdGg+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD52aWRlbzwvdGQ+CgkJCTx0ZD5Z
b3V0dWJlIHVybDxzdXAgY2xhc3M9ImZvb3Rub3RlIj48YSBocmVmPSIjZm4xNzgzODQyMDc5
NGVkYjZiMDZkNGRjNiI+MTwvYT48L3N1cD4gb3IgdmlkZW8gSUQgZm9yIHRoZSB2aWRlbyB5
b3Ugd2FudCB0byBlbWJlZDwvdGQ+CgkJCTx0ZD4gPGVtPnVuc2V0PC9lbT48L3RkPgoJCQk8
dGQ+dmlkZW89JiM4MjIwO3RhN1ZIS0d1b0pZJiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+
CgkJCTx0ZD5wbGF5bGlzdDwvdGQ+CgkJCTx0ZD5Zb3V0dWJlIHBsYXlsaXN0IElEIGZvciB0
aGUgcGxheWxpc3QgeW91IHdhbnQgdG8gZW1iZWQ8L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwv
ZW0+PC90ZD4KCQkJPHRkPnBsYXlsaXN0PSYjODIyMDsyREJGQjYwRDU4MUFCOTAxJiM4MjIx
OzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5zdGFydDwvdGQ+CgkJCTx0ZD5TdGFydCBw
b3NpdGlvbiBvZiB0aGUgdmlkZW8gYXMgYW4gaW50ZWdlcjwvdGQ+CgkJCTx0ZD4wPC90ZD4K
CQkJPHRkPnN0YXJ0PSYjODIyMDs2MCYjODIyMTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8
dGQ+Y3VzdG9tPC90ZD4KCQkJPHRkPk5hbWUgb2YgdGhlIGN1c3RvbSBmaWVsZCBjb250YWlu
aW5nIHZpZGVvIElEcy91cmxzIGFzc29jaWF0ZWQgd2l0aCBhcnRpY2xlPC90ZD4KCQkJPHRk
PllvdXR1YmUgSUQ8L3RkPgoJCQk8dGQ+Y3VzdG9tPSYjODIyMDt2aWRlbyYjODIyMTs8L3Rk
PgoJCTwvdHI+Cgk8L3RhYmxlPgoKCTxwIGlkPSJmbjE3ODM4NDIwNzk0ZWRiNmIwNmQ0ZGM2
IiBjbGFzcz0iZm9vdG5vdGUiPjxzdXA+MTwvc3VwPiBUaGUgdXJsIGNhbiBiZSBlaXRoZXIg
Zm9yIGFuIGluZGl2aWR1YWwgdmlkZW8gb3IgZm9yIGEgcGxheWxpc3QuPC9wPgoKCTxoND5C
YXNpY3M8L2g0PgoKCTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1dGU8L3RoPgoJCQk8
dGg+RGVzY3JpcHRpb248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJCTx0aD5FeGFtcGxl
PC90aD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmxpbms8L3RkPgoJCQk8dGQ+U2V0IHRvICYj
ODIxNjsxJiM4MjE3OyB0byBzaG93IGEgbGluayB0byB0aGUgWW91dHViZSB2aWRlbyBwYWdl
IGJlbG93IHRoZSBwbGF5ZXI7IHRoZSBsaW5rIHRleHQgd2lsbCBiZSB0aGUgPHNwYW4gY2xh
c3M9ImNhcHMiPjxzcGFuIGNsYXNzPSJjYXBzIj5VUkw8L3NwYW4+PC9zcGFuPiBvciB0aGUg
dGV4dCBiZXR3ZWVuIG9wZW5pbmcgYW5kIGNsb3NpbmcgdGFnczwvdGQ+CgkJCTx0ZD4wPC90
ZD4KCQkJPHRkPmxpbms9JiM4MjIwOzEmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJ
PHRkPmxhYmVsPC90ZD4KCQkJPHRkPkxhYmVsIGZvciB0aGUgdmlkZW88L3RkPgoJCQk8dGQ+
IDxlbT5ubyBsYWJlbDwvZW0+PC90ZD4KCQkJPHRkPmxhYmVsPSYjODIyMDtZb3V0dWJlIHZp
ZGVvJiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5sYWJlbHRhZzwvdGQ+CgkJ
CTx0ZD5JbmRlcGVuZGVudCB3cmFwdGFnIGZvciBsYWJlbDwvdGQ+CgkJCTx0ZD4gPGVtPmVt
cHR5PC9lbT48L3RkPgoJCQk8dGQ+bGFiZWx0YWc9JiM4MjIwO2gzJiM4MjIxOzwvdGQ+CgkJ
PC90cj4KCQk8dHI+CgkJCTx0ZD53cmFwdGFnPC90ZD4KCQkJPHRkPjxzcGFuIGNsYXNzPSJj
YXBzIj48c3BhbiBjbGFzcz0iY2FwcyI+SFRNTDwvc3Bhbj48L3NwYW4+IHRhZyB0byBiZSB1
c2VkIGFzIHRoZSB3cmFwdGFnLCB3aXRob3V0IGJyYWNrZXRzPC90ZD4KCQkJPHRkPiA8ZW0+
dW5zZXQ8L2VtPjwvdGQ+CgkJCTx0ZD53cmFwdGFnPSYjODIyMDtkaXYmIzgyMjE7PC90ZD4K
CQk8L3RyPgoJCTx0cj4KCQkJPHRkPmNsYXNzPC90ZD4KCQkJPHRkPjxzcGFuIGNsYXNzPSJj
YXBzIj48c3BhbiBjbGFzcz0iY2FwcyI+Q1NTPC9zcGFuPjwvc3Bhbj4gY2xhc3MgYXR0cmli
dXRlIGZvciB3cmFwdGFnPC90ZD4KCQkJPHRkPmFyY195b3V0dWJlPC90ZD4KCQkJPHRkPmNs
YXNzPSYjODIyMDt5b3V0dWJlJiM4MjIxOzwvdGQ+CgkJPC90cj4KCTwvdGFibGU+CgoJPGg0
PkN1c3RvbWlzaW5nIHRoZSBZb3V0dWJlIHBsYXllcjwvaDQ+CgoJPHA+WW91IGNhbiBjdXN0
b21pc2UgdGhlIGFwcGVhcmFuY2Ugb2YgdGhlIFlvdXR1YmUgZmxhc2ggcGxheWVyIHVzaW5n
IHRoaXMgcGx1Z2luIHRvIGRlZmluZSBjb2xvdXJzLCBzaXplLCBhbmQgbGFuZ3VhZ2Ugc2V0
dGluZ3MuPC9wPgoKCTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1dGU8L3RoPgoJCQk8
dGg+RGVzY3JpcHRpb248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJCTx0aD5FeGFtcGxl
PC90aD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPndpZHRoPC90ZD4KCQkJPHRkPldpZHRoIG9m
IHZpZGVvPC90ZD4KCQkJPHRkPjA8L3RkPgoJCQk8dGQ+d2lkdGg9JiM4MjIwOzIwMCYjODIy
MTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+aGVpZ2h0PC90ZD4KCQkJPHRkPkhlaWdo
dCBvZiB2aWRlbzwvdGQ+CgkJCTx0ZD4wPC90ZD4KCQkJPHRkPmhlaWdodD0mIzgyMjA7MTUw
JiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5yYXRpbzwvdGQ+CgkJCTx0ZD5B
c3BlY3QgcmF0aW88L3RkPgoJCQk8dGQ+NDozPC90ZD4KCQkJPHRkPnJhdGlvbj0mIzgyMjA7
MTY6OSYjODIyMTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+dGhlbWU8L3RkPgoJCQk8
dGQ+VXNlIGVpdGhlciB0aGUgJiM4MjIwO2RhcmsmIzgyMjE7IG9yICYjODIyMDtsaWdodCYj
ODIyMTsgWW91dHViZSBwbGF5ZXI8L3RkPgoJCQk8dGQ+ZGFyazwvdGQ+CgkJCTx0ZD50aGVt
ZT0mIzgyMjA7bGlnaHQmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmNvbG9y
PC90ZD4KCQkJPHRkPlVzZSBlaXRoZXIgYSAmIzgyMjA7cmVkJiM4MjIxOyBvciAmIzgyMjA7
d2hpdGUmIzgyMjE7IHZpZGVvIHByb2dyZXNzIGJhcjwvdGQ+CgkJCTx0ZD5yZWQ8L3RkPgoJ
CQk8dGQ+Y29sb3I9JiM4MjIwO3doaXRlJiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJ
CTx0ZD5mczwvdGQ+CgkJCTx0ZD4mIzgyMTY7MSYjODIxNzsgdG8gYWxsb3cgZnVsbCBzY3Jl
ZW4sICYjODIxNjswJiM4MjE3OyB0byAgZGlzYWJsZSBmdWxsIHNjcmVlbiBtb2RlPC90ZD4K
CQkJPHRkPjE8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+aGQ8L3RkPgoJCQk8dGQ+JiM4
MjE2OzEmIzgyMTc7IHRvIHBsYXkgdmlkZW8gaW4gSEQsICYjODIxNjswJiM4MjE3OyB0byBm
b3Igbm9ybWFsIHBsYXk8L3RkPgoJCQk8dGQ+MDwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0
ZD5hdXRvPC90ZD4KCQkJPHRkPiYjODIxNjsxJiM4MjE3OyB0byBhdXRvcGxheSB0aGUgdmlk
ZW8sICYjODIxNjswJiM4MjE3OyB0byB0dXJuIG9mZiBhdXRvcGxheSAoZGVmYXVsdCk8L3Rk
PgoJCQk8dGQ+MDwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5wcml2YWN5PC90ZD4KCQkJ
PHRkPiYjODIxNjsxJiM4MjE3OyBmb3IgZW5oYW5jZWQgcHJpdmFjeSBtb2RlLCBubyBjb29r
aWVzIHVubGVzcyB0aGUgdXNlciBjbGlja3MgcGxheSwgJiM4MjE2OzAmIzgyMTc7IG5vcm1h
bCBtb2RlPC90ZD4KCQkJPHRkPjA8L3RkPgoJCQk8dGQ+cHJpdmFjeT0mIzgyMTY7MSYjODIx
Nzs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+c3NsPC90ZD4KCQkJPHRkPiYjODIxNjsx
JiM4MjE3OyB0byB1c2UgPHNwYW4gY2xhc3M9ImNhcHMiPjxzcGFuIGNsYXNzPSJjYXBzIj5I
VFRQUzwvc3Bhbj48L3NwYW4+IHByb3RvY29sPC90ZD4KCQkJPHRkPjA8L3RkPgoJCTwvdHI+
Cgk8L3RhYmxlPgoKCTxoMz5FeGFtcGxlczwvaDM+CgoJPGg0PkV4YW1wbGUgMTogVXNlIGN1
c3RvbSBmaWVsZCB0byBhc3NvY2lhdGUgdmlkZW8gd2l0aCBhbiBhcnRpY2xlPC9oND4KCgk8
cD48dHhwOmFyY195b3V0dWJlIGN1c3RvbT0iWW91dHViZSIgLz48L3A+CgoJPGg0PkV4YW1w
bGUgMjogQ3VzdG9taXNlIHRoZSBhcHBlYXJhbmNlIG9mIHRoZSBwbGF5ZXIgYW5kIGFzc29j
aWF0ZSB2aWRlbyB3aXRoIGN1c3RvbSBmaWVsZDwvaDQ+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6
YXJjX3lvdXR1YmUgY29sb3IxPSZxdW90OzAwNjY5OSZxdW90OyBjb2xvcjI9JnF1b3Q7NTRh
YmQ2JnF1b3Q7IGJvcmRlcj0mcXVvdDsxJnF1b3Q7IGN1c3RvbT0mcXVvdDtZb3V0dWJlJnF1
b3Q7IC8mZ3Q7CjwvY29kZT48L3ByZT4KCgk8cD5UaGlzIHdpbGwgcGxhY2UgYSBib3JkZXIg
YXJvdW5kIHRoZSBwbGF5ZXIgYW5kIGNoYW5nZSBpdHMgY29sb3VyIHNjaGVtZSB0byBhIGJs
dWUgb25lLiBBcyBleGFtcGxlIDEsIHRoZSB2aWRlbyBpcyBzZWxlY3RlZCB1c2luZyBhbiBh
cnRpY2xlJiM4MjE3O3MgY3VzdG9tIGZpZWxkIGNhbGxlZCAmIzgyMTY7WW91dHViZSYjODIx
NzsuPC9wPgoKCTxoND5FeGFtcGxlIDM6IFNtYWxsIHZpZGVvIHBsYXllciB3aXRoIGZpeGVk
IHZpZGVvPC9oND4KCjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfeW91dHViZSB3aWR0aD0mcXVv
dDsyMDAmcXVvdDsgdmlkZW89JnF1b3Q7dGdiTnltWjd2cVkmcXVvdDsgLyZndDsKPC9jb2Rl
PjwvcHJlPgoKCTxwPkhlcmUgdGhlIHZpZGVvIGlzIGRlZmluZWQgd2l0aGluIHRoZSB0YWcg
dXNpbmcgdGhlIHZpZGVvIGF0dHJpYnV0ZSB3aGljaCBoYXMgYmVlbiBnaXZlbiB0aGUgdmFs
dWUgb2YgWW91dHViZSYjODIxNztzIHZpZGVvIElELCBhbHRlcm5hdGl2ZWx5IHRoaXMgdmFs
dWUgY291bGQgaGF2ZSBiZWVuIHRoZSB2aWRlbyYjODIxNztzIDxzcGFuIGNsYXNzPSJjYXBz
Ij5VUkw8L3NwYW4+LjwvcD4KCgk8aDQ+RXhhbXBsZSA0OiBFbWJlZCBhIHBsYXlsaXN0PC9o
ND4KCjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfeW91dHViZSB2aWRlbz0mcXVvdDtodHRwOi8v
d3d3LnlvdXR1YmUuY29tL3ZpZXdfcGxheV9saXN0P3A9MkRCRkI2MEQ1ODFBQjkwMSZxdW90
OyAvJmd0Owo8L2NvZGU+PC9wcmU+CgoJPHA+VGhpcyBlbWJlZHMgYSBZb3V0dWJlIHBsYXls
aXN0IChhIHNpbmdsZSBwbGF5ZXIgdGhhdCBjeWNsZXMgdGhyb3VnaCB0aGUgdmlkZW9zIGlu
IHRoZSBwbGF5bGlzdCkuIEFsdGVybmF0aXZlbHkgdGhlIHBsYXlsaXN0IElEIGNhbiBiZSB1
c2VkIHVzaW5nIHRoZSAmIzgyMTY7cGxheWxpc3QmIzgyMTc7IGF0dHJpYnV0ZTotPC9wPgoK
PHByZT48Y29kZT4mbHQ7dHhwOmFyY195b3V0dWJlIHBsYXlsaXN0PSZxdW90OzJEQkZCNjBE
NTgxQUI5MDEmcXVvdDsgLyZndDsKPC9jb2RlPjwvcHJlPgoKIjtzOjQ6ImNvZGUiO3M6MzY4
NjoiCmlmIChAdHhwaW50ZXJmYWNlID09ICdhZG1pbicpCnsKCXJlZ2lzdGVyX2NhbGxiYWNr
KCdfYXJjX3lvdXR1YmVfYXV0b19lbmFibGUnLCAncGx1Z2luX2xpZmVjeWNsZS5hcmNfeW91
dHViZScsICdpbnN0YWxsZWQnKTsKfQoKZnVuY3Rpb24gYXJjX3lvdXR1YmUoJGF0dHMsJHRo
aW5nKQp7CglnbG9iYWwgJHRoaXNhcnRpY2xlOwoKICAgIGV4dHJhY3QobEF0dHMoYXJyYXko
CiAgICAgICAgJ3ZpZGVvJyAgICAgPT4gJycsCiAgICAgICAgJ3BsYXlsaXN0JyAgPT4gJycs
CiAgICAgICAgJ2N1c3RvbScgICAgPT4gJ1lvdXR1YmUgSUQnLAogICAgICAgICd3aWR0aCcg
ICAgID0+ICcwJywKICAgICAgICAnaGVpZ2h0JyAgICA9PiAnMCcsCiAgICAgICAgJ3JhdGlv
JyAgICAgPT4gJzQ6MycsCiAgICAgICAgJ2NvbG9yJyAgICA9PiAncmVkJywgLy8gb3IgJ3do
aXRlJwogICAgICAgICdmcycgICAgICAgID0+ICcxJywKICAgICAgICAnc3RhcnQnICAgICA9
PiAwLAogICAgICAgICd0aGVtZScgICAgID0+ICdkYXJrJywKICAgICAgICAncHJpdmFjeScg
ICA9PiAnMCcsCiAgICAgICAgJ3NzbCcgICAgICAgPT4gJzAnLAogICAgICAgICdhdXRvJyAg
ICAgID0+ICcwJywKICAgICAgICAnbGluaycgICAgICA9PiAnMCcsCiAgICAgICAgJ2xhYmVs
JyAgICAgPT4gJycsCiAgICAgICAgJ2xhYmVsdGFnJyAgPT4gJycsCiAgICAgICAgJ3dyYXB0
YWcnICAgPT4gJycsCiAgICAgICAgJ2NsYXNzJyAgICAgPT4gX19GVU5DVElPTl9fCiAgICAp
LCRhdHRzKSk7CgogICAgJGN1c3RvbSA9IHN0cnRvbG93ZXIoJGN1c3RvbSk7CiAgICBpZiAo
ISR2aWRlbyAmJiBpc3NldCgkdGhpc2FydGljbGVbJGN1c3RvbV0pKSB7CiAgICAgICAgJHZp
ZGVvID0gJHRoaXNhcnRpY2xlWyRjdXN0b21dOwogICAgfQoKICAgICR2ID0gIiI7ICRwID0g
IiI7CgogICAgLy8gQ2hlY2sgZm9yIFlvdXR1YmUgdmlkZW8gSUQgb3IgWW91dHViZSBVUkwg
dG8gZXh0cmFjdCBJRCBmcm9tCgogICAgaWYgKHByZWdfbWF0Y2goIi9eW2EtekEtWl0rWzpc
L1wvXStbQS1aYS16MC05XC1fXStcXC55b3V0dWJlXFwuK1tBLVphLXowLTlcLlwvJSY9XD9c
LV9dKyQvaSIsJHZpZGVvKSkgewoKICAgICAgICAkdXJsYyA9IHBhcnNlX3VybCgkdmlkZW8p
OwogICAgICAgICRxc3RyID0gJHVybGNbJ3F1ZXJ5J107CiAgICAgICAgcGFyc2Vfc3RyKCRx
c3RyLCAkcWFycik7CgogICAgICAgIGlmIChpc3NldCgkcWFyclsndiddKSkgewoKICAgICAg
ICAgICAgJHYgPSAkcWFyclsndiddOwoKICAgICAgICB9IGVsc2VpZiAoaXNzZXQoJHFhcnJb
J3AnXSkpIHsKCiAgICAgICAgICAgICRwID0gJHFhcnJbJ3AnXTsKCiAgICAgICAgfSBlbHNl
IHsKCiAgICAgICAgICAgIHJldHVybiAnJzsKCiAgICAgICAgfQoKICAgIH0gZWxzZWlmIChw
cmVnX21hdGNoKCIvXlthLXpBLVpdK1s6XC9cL10reW91dHVcLmJlXC8oW0EtWmEtejAtOV0r
KS9pIiwkdmlkZW8sJG1hdGNoZXMpKSB7CgogICAgICAgICR2ID0gJG1hdGNoZXNbMV07Cgog
ICAgfSBlbHNlaWYgKCR2aWRlbykgewoKICAgICAgICAkdiA9ICR2aWRlbzsKCiAgICB9IGVs
c2VpZiAoJHBsYXlsaXN0KSB7CgogICAgICAgICRwID0gJHBsYXlsaXN0OwoKICAgIH0gZWxz
ZSB7CgogICAgICAgIHJldHVybiAnJzsKCiAgICB9CgogICAgaWYgKCRwKSB7CgogICAgICAg
ICR2bGluayA9ICdodHRwJy4oKCRzc2wpPydzJzonJykuJzovL3d3dy55b3V0dWJlJwogICAg
ICAgICAgLigoJHByaXZhY3kpPyctbm9jb29raWUnOicnKS4nLmNvbS9wLycuJHA7CgogICAg
fSBlbHNlaWYgKCR2KSB7CgogICAgICAgICR2bGluayA9ICdodHRwJy4oKCRzc2wpPydzJzon
JykuJzovL3d3dy55b3V0dWJlJwogICAgICAgICAgLigoJHByaXZhY3kpPyctbm9jb29raWUn
OicnKS4nLmNvbS9lbWJlZC8nLiR2OwoKICAgIH0KCiAgICBpZiAoJHZ8fCRwKSB7CgogICAg
ICAgICR0b29sYmFyX2ggPSAyNTsKCiAgICAgICAgaWYgKCEkd2lkdGggfHwgISRoZWlnaHQp
IHsKICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgYXNwZWN0IHJhdGlvCiAgICAgICAgICBw
cmVnX21hdGNoKCIvKFswLTldKyk6KFswLTldKykvIiwkcmF0aW8sJG1hdGNoZXMpOwogICAg
ICAgICAgaWYgKCRtYXRjaGVzWzBdICYmICRtYXRjaGVzWzFdIT0wICYmICRtYXRjaGVzWzJd
IT0wKSB7CiAgICAgICAgICAgICRhc3BlY3QgPSAkbWF0Y2hlc1sxXS8kbWF0Y2hlc1syXTsK
ICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRhc3BlY3QgPSAxLjMzMzsKICAgICAg
ICAgIH0KICAgICAgICAgIC8vIGNhbGN1YXRlIHRoZSBuZXcgd2lkdGgvaGVpZ2h0CiAgICAg
ICAgICBpZiAoJHdpZHRoKSB7CiAgICAgICAgICAgICRoZWlnaHQgPSAkd2lkdGgvJGFzcGVj
dCArICR0b29sYmFyX2g7CiAgICAgICAgICB9IGVsc2VpZiAoJGhlaWdodCkgewogICAgICAg
ICAgICAkd2lkdGggPSAoJGhlaWdodC0kdG9vbGJhcl9oKSokYXNwZWN0OwogICAgICAgICAg
fSBlbHNlIHsKICAgICAgICAgICAgJHdpZHRoID0gNDI1OwogICAgICAgICAgICAkaGVpZ2h0
ID0gMzQ0OwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgJHNyYyA9ICR2bGluay4n
P3RoZW1lPScuKCgkdGhlbWU9PSdkYXJrJyk/J2RhcmsnOidsaWdodCcpCiAgICAgICAgICAg
IC4nJmFtcDtjb2xvcj0nLigoJGNvbG9yPT0ncmVkJyk/J3JlZCc6J3doaXRlJykKICAgICAg
ICAgICAgLigoJGZzKT8nJmFtcDtmcz0xJzonJykKICAgICAgICAgICAgLigoJGF1dG8pPycm
YW1wO2F1dG9wbGF5PTEnOicnKQogICAgICAgICAgICAuKCgkaGQpPycmYW1wO2hkPTEnOicn
KQogICAgICAgICAgICAuKCgkc3RhcnQpPycmYW1wO3N0YXJ0PScuJHN0YXJ0OicnKTsKCiAg
ICAgICAgJG91dCA9ICc8aWZyYW1lIHdpZHRoPSInLiR3aWR0aC4nIiBoZWlnaHQ9IicuJGhl
aWdodAogICAgICAgICAgLiciIHNyYz0iJy4kc3JjLiciIGZyYW1lYm9yZGVyPSIwIicKICAg
ICAgICAgIC4oKCRmcyk/JyBhbGxvd2Z1bGxzY3JlZW4nOicnKS4nPjwvaWZyYW1lPic7Cgog
ICAgICAgIGlmICgkbGluaykgewoKICAgICAgICAgICAgJHVybCA9ICd3d3cueW91dHViZS5j
b20vd2F0Y2g/dj0nLiR2OwogICAgICAgICAgICAkb3V0Lj0gJzxwPjxhIGhyZWY9Imh0dHA6
Ly8nLiR1cmwuJyI+JwogICAgICAgICAgICAgICAgLigoJHRoaW5nKT9wYXJzZSgkdGhpbmcp
OiR1cmwpCiAgICAgICAgICAgICAgICAuJzwvYT48L3A+JzsKCiAgICAgICAgfQoKICAgICAg
ICByZXR1cm4gZG9MYWJlbCgkbGFiZWwsICRsYWJlbHRhZykuKCgkd3JhcHRhZykgPyBkb1Rh
Zygkb3V0LCAkd3JhcHRhZywgJGNsYXNzKSA6ICRvdXQpOwoKICAgIH0KCn0KCi8vIEF1dG8g
ZW5hYmxlIHBsdWdpbiBvbiBpbnN0YWxsIChvcmlnaW5hbCBpZGVhIGJ5IE1pY2hhZWwgTWFu
ZnJlKQpmdW5jdGlvbiBfYXJjX3lvdXR1YmVfYXV0b19lbmFibGUoJGV2ZW50LCAkc3RlcCkK
ewogICRwbHVnaW4gPSBzdWJzdHIoJGV2ZW50LCBzdHJsZW4oJ3BsdWdpbl9saWZlY3ljbGUu
JykpOwogICRwcmVmaXggPSAnYXJjX3lvdXR1YmUnOwogIGlmIChzdHJuY21wKCRwbHVnaW4s
ICRwcmVmaXgsIHN0cmxlbigkcHJlZml4KSkgPT0gMCkKICB7CiAgICBzYWZlX3VwZGF0ZSgn
dHhwX3BsdWdpbicsICJzdGF0dXMgPSAxIiwgIm5hbWUgPSAnIiAuIGRvU2xhc2goJHBsdWdp
bikgLiAiJyIpOwogIH0KfQoiO3M6MzoibWQ1IjtzOjMyOiJhYmZmOGY0ZjIyNDgyZDEzMzc3
MjI1NWNiZmJmNjc0NyI7fQ==
