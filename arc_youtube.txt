# arc_youtube v1.0.2
# Embed Youtube videos with customised player
# Andy Carter
# http://www.redhotchilliproject.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YToxMDp7czo0OiJuYW1lIjtzOjExOiJhcmNfeW91dHViZSI7czo3OiJ2ZXJzaW9uIjtzOjU6
IjEuMC4yIjtzOjY6ImF1dGhvciI7czoxMToiQW5keSBDYXJ0ZXIiO3M6MTA6ImF1dGhvcl91
cmkiO3M6MzU6Imh0dHA6Ly93d3cucmVkaG90Y2hpbGxpcHJvamVjdC5jb20vIjtzOjExOiJk
ZXNjcmlwdGlvbiI7czo0MzoiRW1iZWQgWW91dHViZSB2aWRlb3Mgd2l0aCBjdXN0b21pc2Vk
IHBsYXllciI7czo0OiJ0eXBlIjtpOjE7czo1OiJmbGFncyI7aToyO3M6NDoiaGVscCI7czo2
MzUxOiIJPGgzPkRlc2NyaXB0aW9uPC9oMz4KCgk8cD5FYXNpbHkgZW1iZWQgWW91dHViZSB2
aWRlb3MgaW4gYXJ0aWNsZXMgYW5kIGN1c3RvbWlzZSB0aGUgYXBwZWFyYW5jZSBvZiB0aGUg
cGxheWVyLiBhcmNfeW91dHViZSB1c2VzIHRoZSBuZXcgaWZyYW1lIHBsYXllci48L3A+CgoJ
PGgzPkluc3RhbGxhdGlvbjwvaDM+CgoJPHA+VG8gaW5zdGFsbCBnbyB0byB0aGUgJiM4MjE2
O3BsdWdpbnMmIzgyMTc7IHRhYiB1bmRlciAmIzgyMTY7YWRtaW4mIzgyMTc7IGFuZCBwYXN0
ZSB0aGUgcGx1Z2luIGNvZGUgaW50byB0aGUgJiM4MjE2O0luc3RhbGwgcGx1Z2luJiM4MjE3
OyBib3gsICYjODIxNjt1cGxvYWQmIzgyMTc7IGFuZCB0aGVuICYjODIxNjtpbnN0YWxsJiM4
MjE3Oy4gUGxlYXNlIG5vdGUgdGhhdCB5b3Ugd2lsbCBuZWVkIHRvIHNldC11cCBhIGN1c3Rv
bSBmaWVsZCB0byB1c2UgZm9yIGFzc29jaWF0aW5nIHZpZGVvcyB3aXRoIGFydGljbGVzLCB1
bmxlc3MgeW91IGNob29zZSB0byBkaXJlY3RseSBlbWJlZCB0aGUgbmV3IHRhZyBpbiB0aGUg
YXJ0aWNsZSB0ZXh0LjwvcD4KCgk8aDM+U3ludGF4PC9oMz4KCjxwcmU+PGNvZGU+Jmx0O3R4
cDphcmNfeW91dHViZSAvJmd0Owo8L2NvZGU+Cjxjb2RlPiZsdDt0eHA6YXJjX3lvdXR1YmUg
dmlkZW89JnF1b3Q7dGdiTnltWjd2cVkmcXVvdDsgd2lkdGg9JnF1b3Q7NTAwJnF1b3Q7IHJh
dGlvPSZxdW90OzE2OjkmcXVvdDsgLyZndDsKPC9jb2RlPgo8Y29kZT4mbHQ7dHhwOmFyY195
b3V0dWJlIHZpZGVvPSZxdW90O2h0dHA6Ly91ay55b3V0dWJlLmNvbS93YXRjaD92PXRnYk55
bVo3dnFZJnF1b3Q7IHdpZHRoPSZxdW90OzUwMCZxdW90OyByYXRpbz0mcXVvdDsxNjo5JnF1
b3Q7IC8mZ3Q7CjwvY29kZT48L3ByZT4KCgk8cD5vciw8L3A+Cgo8cHJlPjxjb2RlPiZsdDt0
eHA6YXJjX3lvdXR1YmUgbGluaz0mcXVvdDsxJnF1b3Q7Jmd0O0xpbmsmbHQ7L3R4cDphcmNf
eW91dHViZSZndDsKPC9jb2RlPjwvcHJlPgoKCTxoMz5Vc2FnZTwvaDM+CgoJPGg0PlZpZGVv
IGFuZCBwbGF5bGlzdHM8L2g0PgoKCTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1dGU8
L3RoPgoJCQk8dGg+RGVzY3JpcHRpb248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJCTx0
aD5FeGFtcGxlPC90aD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPnZpZGVvPC90ZD4KCQkJPHRk
PllvdXR1YmUgdXJsPHN1cCBjbGFzcz0iZm9vdG5vdGUiPjxhIGhyZWY9IiNmbjE3NDM1NjAx
OTg0ZjQ4Y2Q5Nzc0MmM4Ij4xPC9hPjwvc3VwPiBvciB2aWRlbyBJRCBmb3IgdGhlIHZpZGVv
IHlvdSB3YW50IHRvIGVtYmVkPC90ZD4KCQkJPHRkPiA8ZW0+dW5zZXQ8L2VtPjwvdGQ+CgkJ
CTx0ZD52aWRlbz0mIzgyMjA7dGE3VkhLR3VvSlkmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0
cj4KCQkJPHRkPnBsYXlsaXN0PC90ZD4KCQkJPHRkPllvdXR1YmUgcGxheWxpc3QgSUQgZm9y
IHRoZSBwbGF5bGlzdCB5b3Ugd2FudCB0byBlbWJlZDwvdGQ+CgkJCTx0ZD4gPGVtPnVuc2V0
PC9lbT48L3RkPgoJCQk8dGQ+cGxheWxpc3Q9JiM4MjIwOzJEQkZCNjBENTgxQUI5MDEmIzgy
MjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPnN0YXJ0PC90ZD4KCQkJPHRkPlN0YXJ0
IHBvc2l0aW9uIG9mIHRoZSB2aWRlbyBhcyBhbiBpbnRlZ2VyPC90ZD4KCQkJPHRkPjA8L3Rk
PgoJCQk8dGQ+c3RhcnQ9JiM4MjIwOzYwJiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJ
CTx0ZD5jdXN0b208L3RkPgoJCQk8dGQ+TmFtZSBvZiB0aGUgY3VzdG9tIGZpZWxkIGNvbnRh
aW5pbmcgdmlkZW8gSURzL3VybHMgYXNzb2NpYXRlZCB3aXRoIGFydGljbGU8L3RkPgoJCQk8
dGQ+WW91dHViZSBJRDwvdGQ+CgkJCTx0ZD5jdXN0b209JiM4MjIwO3ZpZGVvJiM4MjIxOzwv
dGQ+CgkJPC90cj4KCTwvdGFibGU+CgoJPHAgaWQ9ImZuMTc0MzU2MDE5ODRmNDhjZDk3NzQy
YzgiIGNsYXNzPSJmb290bm90ZSI+PHN1cD4xPC9zdXA+IFRoZSB1cmwgY2FuIGJlIGVpdGhl
ciBmb3IgYW4gaW5kaXZpZHVhbCB2aWRlbyBvciBmb3IgYSBwbGF5bGlzdC48L3A+CgoJPGg0
PkJhc2ljczwvaDQ+CgoJPHRhYmxlPgoJCTx0cj4KCQkJPHRoPkF0dHJpYnV0ZTwvdGg+CgkJ
CTx0aD5EZXNjcmlwdGlvbjwvdGg+CgkJCTx0aD5EZWZhdWx0PC90aD4KCQkJPHRoPkV4YW1w
bGU8L3RoPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+bGluazwvdGQ+CgkJCTx0ZD5TZXQgdG8g
JiM4MjE2OzEmIzgyMTc7IHRvIHNob3cgYSBsaW5rIHRvIHRoZSBZb3V0dWJlIHZpZGVvIHBh
Z2UgYmVsb3cgdGhlIHBsYXllcjsgdGhlIGxpbmsgdGV4dCB3aWxsIGJlIHRoZSA8c3BhbiBj
bGFzcz0iY2FwcyI+PHNwYW4gY2xhc3M9ImNhcHMiPlVSTDwvc3Bhbj48L3NwYW4+IG9yIHRo
ZSB0ZXh0IGJldHdlZW4gb3BlbmluZyBhbmQgY2xvc2luZyB0YWdzPC90ZD4KCQkJPHRkPjA8
L3RkPgoJCQk8dGQ+bGluaz0mIzgyMjA7MSYjODIyMTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJ
CQk8dGQ+bGFiZWw8L3RkPgoJCQk8dGQ+TGFiZWwgZm9yIHRoZSB2aWRlbzwvdGQ+CgkJCTx0
ZD4gPGVtPm5vIGxhYmVsPC9lbT48L3RkPgoJCQk8dGQ+bGFiZWw9JiM4MjIwO1lvdXR1YmUg
dmlkZW8mIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmxhYmVsdGFnPC90ZD4K
CQkJPHRkPkluZGVwZW5kZW50IHdyYXB0YWcgZm9yIGxhYmVsPC90ZD4KCQkJPHRkPiA8ZW0+
ZW1wdHk8L2VtPjwvdGQ+CgkJCTx0ZD5sYWJlbHRhZz0mIzgyMjA7aDMmIzgyMjE7PC90ZD4K
CQk8L3RyPgoJCTx0cj4KCQkJPHRkPndyYXB0YWc8L3RkPgoJCQk8dGQ+PHNwYW4gY2xhc3M9
ImNhcHMiPjxzcGFuIGNsYXNzPSJjYXBzIj5IVE1MPC9zcGFuPjwvc3Bhbj4gdGFnIHRvIGJl
IHVzZWQgYXMgdGhlIHdyYXB0YWcsIHdpdGhvdXQgYnJhY2tldHM8L3RkPgoJCQk8dGQ+IDxl
bT51bnNldDwvZW0+PC90ZD4KCQkJPHRkPndyYXB0YWc9JiM4MjIwO2RpdiYjODIyMTs8L3Rk
PgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+Y2xhc3M8L3RkPgoJCQk8dGQ+PHNwYW4gY2xhc3M9
ImNhcHMiPjxzcGFuIGNsYXNzPSJjYXBzIj5DU1M8L3NwYW4+PC9zcGFuPiBjbGFzcyBhdHRy
aWJ1dGUgZm9yIHdyYXB0YWc8L3RkPgoJCQk8dGQ+YXJjX3lvdXR1YmU8L3RkPgoJCQk8dGQ+
Y2xhc3M9JiM4MjIwO3lvdXR1YmUmIzgyMjE7PC90ZD4KCQk8L3RyPgoJPC90YWJsZT4KCgk8
aDQ+Q3VzdG9taXNpbmcgdGhlIFlvdXR1YmUgcGxheWVyPC9oND4KCgk8cD5Zb3UgY2FuIGN1
c3RvbWlzZSB0aGUgYXBwZWFyYW5jZSBvZiB0aGUgWW91dHViZSBmbGFzaCBwbGF5ZXIgdXNp
bmcgdGhpcyBwbHVnaW4gdG8gZGVmaW5lIGNvbG91cnMsIHNpemUsIGFuZCBsYW5ndWFnZSBz
ZXR0aW5ncy48L3A+CgoJPHRhYmxlPgoJCTx0cj4KCQkJPHRoPkF0dHJpYnV0ZTwvdGg+CgkJ
CTx0aD5EZXNjcmlwdGlvbjwvdGg+CgkJCTx0aD5EZWZhdWx0PC90aD4KCQkJPHRoPkV4YW1w
bGU8L3RoPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+d2lkdGg8L3RkPgoJCQk8dGQ+V2lkdGgg
b2YgdmlkZW88L3RkPgoJCQk8dGQ+MDwvdGQ+CgkJCTx0ZD53aWR0aD0mIzgyMjA7MjAwJiM4
MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5oZWlnaHQ8L3RkPgoJCQk8dGQ+SGVp
Z2h0IG9mIHZpZGVvPC90ZD4KCQkJPHRkPjA8L3RkPgoJCQk8dGQ+aGVpZ2h0PSYjODIyMDsx
NTAmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPnJhdGlvPC90ZD4KCQkJPHRk
PkFzcGVjdCByYXRpbzwvdGQ+CgkJCTx0ZD40OjM8L3RkPgoJCQk8dGQ+cmF0aW9uPSYjODIy
MDsxNjo5JiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD50aGVtZTwvdGQ+CgkJ
CTx0ZD5Vc2UgZWl0aGVyIHRoZSAmIzgyMjA7ZGFyayYjODIyMTsgb3IgJiM4MjIwO2xpZ2h0
JiM4MjIxOyBZb3V0dWJlIHBsYXllcjwvdGQ+CgkJCTx0ZD5kYXJrPC90ZD4KCQkJPHRkPnRo
ZW1lPSYjODIyMDtsaWdodCYjODIyMTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+Y29s
b3I8L3RkPgoJCQk8dGQ+VXNlIGVpdGhlciBhICYjODIyMDtyZWQmIzgyMjE7IG9yICYjODIy
MDt3aGl0ZSYjODIyMTsgdmlkZW8gcHJvZ3Jlc3MgYmFyPC90ZD4KCQkJPHRkPnJlZDwvdGQ+
CgkJCTx0ZD5jb2xvcj0mIzgyMjA7d2hpdGUmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4K
CQkJPHRkPmZzPC90ZD4KCQkJPHRkPiYjODIxNjsxJiM4MjE3OyB0byBhbGxvdyBmdWxsIHNj
cmVlbiwgJiM4MjE2OzAmIzgyMTc7IHRvICBkaXNhYmxlIGZ1bGwgc2NyZWVuIG1vZGU8L3Rk
PgoJCQk8dGQ+MTwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5oZDwvdGQ+CgkJCTx0ZD4m
IzgyMTY7MSYjODIxNzsgdG8gcGxheSB2aWRlbyBpbiBIRCwgJiM4MjE2OzAmIzgyMTc7IHRv
IGZvciBub3JtYWwgcGxheTwvdGQ+CgkJCTx0ZD4wPC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJ
PHRkPmF1dG88L3RkPgoJCQk8dGQ+JiM4MjE2OzEmIzgyMTc7IHRvIGF1dG9wbGF5IHRoZSB2
aWRlbywgJiM4MjE2OzAmIzgyMTc7IHRvIHR1cm4gb2ZmIGF1dG9wbGF5IChkZWZhdWx0KTwv
dGQ+CgkJCTx0ZD4wPC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPnByaXZhY3k8L3RkPgoJ
CQk8dGQ+JiM4MjE2OzEmIzgyMTc7IGZvciBlbmhhbmNlZCBwcml2YWN5IG1vZGUsIG5vIGNv
b2tpZXMgdW5sZXNzIHRoZSB1c2VyIGNsaWNrcyBwbGF5LCAmIzgyMTY7MCYjODIxNzsgbm9y
bWFsIG1vZGU8L3RkPgoJCQk8dGQ+MDwvdGQ+CgkJCTx0ZD5wcml2YWN5PSYjODIxNjsxJiM4
MjE3OzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5zc2w8L3RkPgoJCQk8dGQ+JiM4MjE2
OzEmIzgyMTc7IHRvIHVzZSA8c3BhbiBjbGFzcz0iY2FwcyI+PHNwYW4gY2xhc3M9ImNhcHMi
PkhUVFBTPC9zcGFuPjwvc3Bhbj4gcHJvdG9jb2w8L3RkPgoJCQk8dGQ+MDwvdGQ+CgkJPC90
cj4KCTwvdGFibGU+CgoJPGgzPkV4YW1wbGVzPC9oMz4KCgk8aDQ+RXhhbXBsZSAxOiBVc2Ug
Y3VzdG9tIGZpZWxkIHRvIGFzc29jaWF0ZSB2aWRlbyB3aXRoIGFuIGFydGljbGU8L2g0PgoK
CTxwPjx0eHA6YXJjX3lvdXR1YmUgY3VzdG9tPSJZb3V0dWJlIiAvPjwvcD4KCgk8aDQ+RXhh
bXBsZSAyOiBDdXN0b21pc2UgdGhlIGFwcGVhcmFuY2Ugb2YgdGhlIHBsYXllciBhbmQgYXNz
b2NpYXRlIHZpZGVvIHdpdGggY3VzdG9tIGZpZWxkPC9oND4KCjxwcmU+PGNvZGU+Jmx0O3R4
cDphcmNfeW91dHViZSBjb2xvcjE9JnF1b3Q7MDA2Njk5JnF1b3Q7IGNvbG9yMj0mcXVvdDs1
NGFiZDYmcXVvdDsgYm9yZGVyPSZxdW90OzEmcXVvdDsgY3VzdG9tPSZxdW90O1lvdXR1YmUm
cXVvdDsgLyZndDsKPC9jb2RlPjwvcHJlPgoKCTxwPlRoaXMgd2lsbCBwbGFjZSBhIGJvcmRl
ciBhcm91bmQgdGhlIHBsYXllciBhbmQgY2hhbmdlIGl0cyBjb2xvdXIgc2NoZW1lIHRvIGEg
Ymx1ZSBvbmUuIEFzIGV4YW1wbGUgMSwgdGhlIHZpZGVvIGlzIHNlbGVjdGVkIHVzaW5nIGFu
IGFydGljbGUmIzgyMTc7cyBjdXN0b20gZmllbGQgY2FsbGVkICYjODIxNjtZb3V0dWJlJiM4
MjE3Oy48L3A+CgoJPGg0PkV4YW1wbGUgMzogU21hbGwgdmlkZW8gcGxheWVyIHdpdGggZml4
ZWQgdmlkZW88L2g0PgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY195b3V0dWJlIHdpZHRoPSZx
dW90OzIwMCZxdW90OyB2aWRlbz0mcXVvdDt0Z2JOeW1aN3ZxWSZxdW90OyAvJmd0Owo8L2Nv
ZGU+PC9wcmU+CgoJPHA+SGVyZSB0aGUgdmlkZW8gaXMgZGVmaW5lZCB3aXRoaW4gdGhlIHRh
ZyB1c2luZyB0aGUgdmlkZW8gYXR0cmlidXRlIHdoaWNoIGhhcyBiZWVuIGdpdmVuIHRoZSB2
YWx1ZSBvZiBZb3V0dWJlJiM4MjE3O3MgdmlkZW8gSUQsIGFsdGVybmF0aXZlbHkgdGhpcyB2
YWx1ZSBjb3VsZCBoYXZlIGJlZW4gdGhlIHZpZGVvJiM4MjE3O3MgPHNwYW4gY2xhc3M9ImNh
cHMiPlVSTDwvc3Bhbj4uPC9wPgoKCTxoND5FeGFtcGxlIDQ6IEVtYmVkIGEgcGxheWxpc3Q8
L2g0PgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY195b3V0dWJlIHZpZGVvPSZxdW90O2h0dHA6
Ly93d3cueW91dHViZS5jb20vdmlld19wbGF5X2xpc3Q/cD0yREJGQjYwRDU4MUFCOTAxJnF1
b3Q7IC8mZ3Q7CjwvY29kZT48L3ByZT4KCgk8cD5UaGlzIGVtYmVkcyBhIFlvdXR1YmUgcGxh
eWxpc3QgKGEgc2luZ2xlIHBsYXllciB0aGF0IGN5Y2xlcyB0aHJvdWdoIHRoZSB2aWRlb3Mg
aW4gdGhlIHBsYXlsaXN0KS4gQWx0ZXJuYXRpdmVseSB0aGUgcGxheWxpc3QgSUQgY2FuIGJl
IHVzZWQgdXNpbmcgdGhlICYjODIxNjtwbGF5bGlzdCYjODIxNzsgYXR0cmlidXRlOi08L3A+
Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJjX3lvdXR1YmUgcGxheWxpc3Q9JnF1b3Q7MkRCRkI2
MEQ1ODFBQjkwMSZxdW90OyAvJmd0Owo8L2NvZGU+PC9wcmU+CgoiO3M6NDoiY29kZSI7czoz
NzI4OiIKaWYgKEB0eHBpbnRlcmZhY2UgPT0gJ2FkbWluJykKewoJcmVnaXN0ZXJfY2FsbGJh
Y2soJ19hcmNfeW91dHViZV9hdXRvX2VuYWJsZScsICdwbHVnaW5fbGlmZWN5Y2xlLmFyY195
b3V0dWJlJywgJ2luc3RhbGxlZCcpOwp9CgpmdW5jdGlvbiBhcmNfeW91dHViZSgkYXR0cywk
dGhpbmcpCnsKCWdsb2JhbCAkdGhpc2FydGljbGU7CgogICAgZXh0cmFjdChsQXR0cyhhcnJh
eSgKICAgICAgICAndmlkZW8nICAgICA9PiAnJywKICAgICAgICAncGxheWxpc3QnICA9PiAn
JywKICAgICAgICAnY3VzdG9tJyAgICA9PiAnWW91dHViZSBJRCcsCiAgICAgICAgJ3dpZHRo
JyAgICAgPT4gJzAnLAogICAgICAgICdoZWlnaHQnICAgID0+ICcwJywKICAgICAgICAncmF0
aW8nICAgICA9PiAnNDozJywKICAgICAgICAnY29sb3InICAgICA9PiAncmVkJywgLy8gb3Ig
J3doaXRlJwogICAgICAgICdmcycgICAgICAgID0+ICcxJywKICAgICAgICAnaGQnICAgICAg
ICA9PiAwLAogICAgICAgICdzdGFydCcgICAgID0+IDAsCiAgICAgICAgJ3RoZW1lJyAgICAg
PT4gJ2RhcmsnLAogICAgICAgICdwcml2YWN5JyAgID0+ICcwJywKICAgICAgICAnc3NsJyAg
ICAgICA9PiAnMCcsCiAgICAgICAgJ2F1dG8nICAgICAgPT4gJzAnLAogICAgICAgICdsaW5r
JyAgICAgID0+ICcwJywKICAgICAgICAnbGFiZWwnICAgICA9PiAnJywKICAgICAgICAnbGFi
ZWx0YWcnICA9PiAnJywKICAgICAgICAnd3JhcHRhZycgICA9PiAnJywKICAgICAgICAnY2xh
c3MnICAgICA9PiBfX0ZVTkNUSU9OX18KICAgICksJGF0dHMpKTsKCiAgICAkY3VzdG9tID0g
c3RydG9sb3dlcigkY3VzdG9tKTsKICAgIGlmICghJHZpZGVvICYmIGlzc2V0KCR0aGlzYXJ0
aWNsZVskY3VzdG9tXSkpIHsKICAgICAgICAkdmlkZW8gPSAkdGhpc2FydGljbGVbJGN1c3Rv
bV07CiAgICB9CgogICAgJHYgPSAiIjsgJHAgPSAiIjsKCiAgICAvLyBDaGVjayBmb3IgWW91
dHViZSB2aWRlbyBJRCBvciBZb3V0dWJlIFVSTCB0byBleHRyYWN0IElEIGZyb20KCiAgICBp
ZiAocHJlZ19tYXRjaCgiL15bYS16QS1aXStbOlwvXC9dK1tBLVphLXowLTlcLV9dK1xcLnlv
dXR1YmVcXC4rW0EtWmEtejAtOVwuXC8lJj1cP1wtX10rJC9pIiwkdmlkZW8pKSB7CgogICAg
ICAgICR1cmxjID0gcGFyc2VfdXJsKCR2aWRlbyk7CiAgICAgICAgJHFzdHIgPSAkdXJsY1sn
cXVlcnknXTsKICAgICAgICBwYXJzZV9zdHIoJHFzdHIsICRxYXJyKTsKCiAgICAgICAgaWYg
KGlzc2V0KCRxYXJyWyd2J10pKSB7CgogICAgICAgICAgICAkdiA9ICRxYXJyWyd2J107Cgog
ICAgICAgIH0gZWxzZWlmIChpc3NldCgkcWFyclsncCddKSkgewoKICAgICAgICAgICAgJHAg
PSAkcWFyclsncCddOwoKICAgICAgICB9IGVsc2UgewoKICAgICAgICAgICAgcmV0dXJuICcn
OwoKICAgICAgICB9CgogICAgfSBlbHNlaWYgKHByZWdfbWF0Y2goIi9eW2EtekEtWl0rWzpc
L1wvXSt5b3V0dVwuYmVcLyhbQS1aYS16MC05XSspL2kiLCR2aWRlbywkbWF0Y2hlcykpIHsK
CiAgICAgICAgJHYgPSAkbWF0Y2hlc1sxXTsKCiAgICB9IGVsc2VpZiAoJHZpZGVvKSB7Cgog
ICAgICAgICR2ID0gJHZpZGVvOwoKICAgIH0gZWxzZWlmICgkcGxheWxpc3QpIHsKCiAgICAg
ICAgJHAgPSAkcGxheWxpc3Q7CgogICAgfSBlbHNlIHsKCiAgICAgICAgcmV0dXJuICcnOwoK
ICAgIH0KCiAgICBpZiAoJHApIHsKCiAgICAgICAgJHZsaW5rID0gJ2h0dHAnLigoJHNzbCk/
J3MnOicnKS4nOi8vd3d3LnlvdXR1YmUnCiAgICAgICAgICAuKCgkcHJpdmFjeSk/Jy1ub2Nv
b2tpZSc6JycpLicuY29tL3AvJy4kcDsKCiAgICB9IGVsc2VpZiAoJHYpIHsKCiAgICAgICAg
JHZsaW5rID0gJ2h0dHAnLigoJHNzbCk/J3MnOicnKS4nOi8vd3d3LnlvdXR1YmUnCiAgICAg
ICAgICAuKCgkcHJpdmFjeSk/Jy1ub2Nvb2tpZSc6JycpLicuY29tL2VtYmVkLycuJHY7Cgog
ICAgfQoKICAgIGlmICgkdnx8JHApIHsKCiAgICAgICAgJHRvb2xiYXJfaCA9IDI1OwoKICAg
ICAgICBpZiAoISR3aWR0aCB8fCAhJGhlaWdodCkgewogICAgICAgICAgLy8gY2FsY3VsYXRl
IHRoZSBhc3BlY3QgcmF0aW8KICAgICAgICAgIHByZWdfbWF0Y2goIi8oWzAtOV0rKTooWzAt
OV0rKS8iLCRyYXRpbywkbWF0Y2hlcyk7CiAgICAgICAgICBpZiAoJG1hdGNoZXNbMF0gJiYg
JG1hdGNoZXNbMV0hPTAgJiYgJG1hdGNoZXNbMl0hPTApIHsKICAgICAgICAgICAgJGFzcGVj
dCA9ICRtYXRjaGVzWzFdLyRtYXRjaGVzWzJdOwogICAgICAgICAgfSBlbHNlIHsKICAgICAg
ICAgICAgJGFzcGVjdCA9IDEuMzMzOwogICAgICAgICAgfQogICAgICAgICAgLy8gY2FsY3Vh
dGUgdGhlIG5ldyB3aWR0aC9oZWlnaHQKICAgICAgICAgIGlmICgkd2lkdGgpIHsKICAgICAg
ICAgICAgJGhlaWdodCA9ICR3aWR0aC8kYXNwZWN0ICsgJHRvb2xiYXJfaDsKICAgICAgICAg
IH0gZWxzZWlmICgkaGVpZ2h0KSB7CiAgICAgICAgICAgICR3aWR0aCA9ICgkaGVpZ2h0LSR0
b29sYmFyX2gpKiRhc3BlY3Q7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkd2lk
dGggPSA0MjU7CiAgICAgICAgICAgICRoZWlnaHQgPSAzNDQ7CiAgICAgICAgICB9CiAgICAg
ICAgfQoKICAgICAgICAkc3JjID0gJHZsaW5rLic/dGhlbWU9Jy4oKCR0aGVtZT09J2Rhcmsn
KT8nZGFyayc6J2xpZ2h0JykKICAgICAgICAgICAgLicmYW1wO2NvbG9yPScuKCgkY29sb3I9
PSdyZWQnKT8ncmVkJzond2hpdGUnKQogICAgICAgICAgICAuKCgkZnMpPycmYW1wO2ZzPTEn
OicnKQogICAgICAgICAgICAuKCgkYXV0byk/JyZhbXA7YXV0b3BsYXk9MSc6JycpCiAgICAg
ICAgICAgIC4oKCRoZCk/JyZhbXA7aGQ9MSc6JycpCiAgICAgICAgICAgIC4oKCRzdGFydCk/
JyZhbXA7c3RhcnQ9Jy4kc3RhcnQ6JycpOwoKICAgICAgICAkb3V0ID0gJzxpZnJhbWUgd2lk
dGg9IicuJHdpZHRoLiciIGhlaWdodD0iJy4kaGVpZ2h0CiAgICAgICAgICAuJyIgc3JjPSIn
LiRzcmMuJyIgZnJhbWVib3JkZXI9IjAiJwogICAgICAgICAgLigoJGZzKT8nIGFsbG93ZnVs
bHNjcmVlbic6JycpLic+PC9pZnJhbWU+JzsKCiAgICAgICAgaWYgKCRsaW5rKSB7CgogICAg
ICAgICAgICAkdXJsID0gJ3d3dy55b3V0dWJlLmNvbS93YXRjaD92PScuJHY7CiAgICAgICAg
ICAgICRvdXQuPSAnPHA+PGEgaHJlZj0iaHR0cDovLycuJHVybC4nIiByZWw9ImV4dGVybmFs
Ij4nCiAgICAgICAgICAgICAgICAuKCgkdGhpbmcpP3BhcnNlKCR0aGluZyk6JHVybCkKICAg
ICAgICAgICAgICAgIC4nPC9hPjwvcD4nOwoKICAgICAgICB9CgogICAgICAgIHJldHVybiBk
b0xhYmVsKCRsYWJlbCwgJGxhYmVsdGFnKS4oKCR3cmFwdGFnKSA/IGRvVGFnKCRvdXQsICR3
cmFwdGFnLCAkY2xhc3MpIDogJG91dCk7CgogICAgfQoKfQoKLy8gQXV0byBlbmFibGUgcGx1
Z2luIG9uIGluc3RhbGwgKG9yaWdpbmFsIGlkZWEgYnkgTWljaGFlbCBNYW5mcmUpCmZ1bmN0
aW9uIF9hcmNfeW91dHViZV9hdXRvX2VuYWJsZSgkZXZlbnQsICRzdGVwKQp7CiAgJHBsdWdp
biA9IHN1YnN0cigkZXZlbnQsIHN0cmxlbigncGx1Z2luX2xpZmVjeWNsZS4nKSk7CiAgJHBy
ZWZpeCA9ICdhcmNfeW91dHViZSc7CiAgaWYgKHN0cm5jbXAoJHBsdWdpbiwgJHByZWZpeCwg
c3RybGVuKCRwcmVmaXgpKSA9PSAwKQogIHsKICAgIHNhZmVfdXBkYXRlKCd0eHBfcGx1Z2lu
JywgInN0YXR1cyA9IDEiLCAibmFtZSA9ICciIC4gZG9TbGFzaCgkcGx1Z2luKSAuICInIik7
CiAgfQp9CiI7czozOiJtZDUiO3M6MzI6IjMxYjE1Njk3MmQ4Zjc5Y2M0YzdhYzlmZDRlYTgy
YjRhIjt9
