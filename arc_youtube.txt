# arc_youtube v0.4.1
# Embed Youtube videos with customised player
# Andy Carter
# http://www.redhotchilliproject.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YToxMDp7czo0OiJuYW1lIjtzOjExOiJhcmNfeW91dHViZSI7czo3OiJ2ZXJzaW9uIjtzOjU6
IjAuNC4xIjtzOjY6ImF1dGhvciI7czoxMToiQW5keSBDYXJ0ZXIiO3M6MTA6ImF1dGhvcl91
cmkiO3M6MzU6Imh0dHA6Ly93d3cucmVkaG90Y2hpbGxpcHJvamVjdC5jb20vIjtzOjExOiJk
ZXNjcmlwdGlvbiI7czo0MzoiRW1iZWQgWW91dHViZSB2aWRlb3Mgd2l0aCBjdXN0b21pc2Vk
IHBsYXllciI7czo0OiJ0eXBlIjtpOjE7czo1OiJmbGFncyI7aToyO3M6NDoiaGVscCI7czo2
NjEzOiIJPGgzPkRlc2NyaXB0aW9uPC9oMz4KCgk8cD5FYXNpbHkgZW1iZWQgdmFsaWQgPHNw
YW4gY2xhc3M9ImNhcHMiPlhIVE1MPC9zcGFuPiAxLjAgbWFya3VwIFlvdXR1YmUgdmlkZW9z
IGluIGFydGljbGVzIGFuZCBjdXN0b21pc2UgdGhlIGFwcGVhcmFuY2Ugb2YgdGhlIHBsYXll
ci48L3A+CgoJPGgzPkluc3RhbGxhdGlvbjwvaDM+CgoJPHA+VG8gaW5zdGFsbCBnbyB0byB0
aGUgJiM4MjE2O3BsdWdpbnMmIzgyMTc7IHRhYiB1bmRlciAmIzgyMTY7YWRtaW4mIzgyMTc7
IGFuZCBwYXN0ZSB0aGUgcGx1Z2luIGNvZGUgaW50byB0aGUgJiM4MjE2O0luc3RhbGwgcGx1
Z2luJiM4MjE3OyBib3gsICYjODIxNjt1cGxvYWQmIzgyMTc7IGFuZCB0aGVuICYjODIxNjtp
bnN0YWxsJiM4MjE3Oy4gRmluYWxseSBhY3RpdmF0ZSB0aGUgcGx1Z2luLiBQbGVhc2Ugbm90
ZSB0aGF0IHlvdSB3aWxsIG5lZWQgdG8gc2V0LXVwIGEgY3VzdG9tIGZpZWxkIHRvIHVzZSBm
b3IgYXNzb2NpYXRpbmcgdmlkZW9zIHdpdGggYXJ0aWNsZXMsIHVubGVzcyB5b3UgY2hvb3Nl
IHRvIGRpcmVjdGx5IGVtYmVkIHRoZSBuZXcgdGFnIGluIHRoZSBhcnRpY2xlIHRleHQuPC9w
PgoKCTxoMz5TeW50YXg8L2gzPgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY195b3V0dWJlIC8m
Z3Q7CjwvY29kZT4KPGNvZGU+Jmx0O3R4cDphcmNfeW91dHViZSB2aWRlbz0mcXVvdDt0Z2JO
eW1aN3ZxWSZxdW90OyB3aWR0aD0mcXVvdDs1MDAmcXVvdDsgcmF0aW89JnF1b3Q7MTY6OSZx
dW90OyAvJmd0Owo8L2NvZGU+Cjxjb2RlPiZsdDt0eHA6YXJjX3lvdXR1YmUgdmlkZW89JnF1
b3Q7aHR0cDovL3VrLnlvdXR1YmUuY29tL3dhdGNoP3Y9dGdiTnltWjd2cVkmcXVvdDsgd2lk
dGg9JnF1b3Q7NTAwJnF1b3Q7IHJhdGlvPSZxdW90OzE2OjkmcXVvdDsgLyZndDsKPC9jb2Rl
PjwvcHJlPgoKCTxwPm9yLDwvcD4KCjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfeW91dHViZSBs
aW5rPSZxdW90OzEmcXVvdDsmZ3Q7TGluayZsdDsvdHhwOmFyY195b3V0dWJlJmd0Owo8L2Nv
ZGU+PC9wcmU+CgoJPGgzPlVzYWdlPC9oMz4KCgk8aDQ+VmlkZW8gYW5kIHBsYXlsaXN0czwv
aDQ+CgoJPHRhYmxlPgoJCTx0cj4KCQkJPHRoPkF0dHJpYnV0ZTwvdGg+CgkJCTx0aD5EZXNj
cmlwdGlvbjwvdGg+CgkJCTx0aD5EZWZhdWx0PC90aD4KCQkJPHRoPkV4YW1wbGU8L3RoPgoJ
CTwvdHI+CgkJPHRyPgoJCQk8dGQ+dmlkZW88L3RkPgoJCQk8dGQ+WW91dHViZSB1cmw8c3Vw
IGNsYXNzPSJmb290bm90ZSI+PGEgaHJlZj0iI2ZuMjAzNzA4MDQwNzRmNDhjZWMxYWMzNDEi
PjE8L2E+PC9zdXA+IG9yIHZpZGVvIElEIGZvciB0aGUgdmlkZW8geW91IHdhbnQgdG8gZW1i
ZWQ8L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwvZW0+PC90ZD4KCQkJPHRkPnZpZGVvPSYjODIy
MDt0YTdWSEtHdW9KWSYjODIyMTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+cGxheWxp
c3Q8L3RkPgoJCQk8dGQ+WW91dHViZSBwbGF5bGlzdCBJRCBmb3IgdGhlIHBsYXlsaXN0IHlv
dSB3YW50IHRvIGVtYmVkPC90ZD4KCQkJPHRkPiA8ZW0+dW5zZXQ8L2VtPjwvdGQ+CgkJCTx0
ZD5wbGF5bGlzdD0mIzgyMjA7MkRCRkI2MEQ1ODFBQjkwMSYjODIyMTs8L3RkPgoJCTwvdHI+
CgkJPHRyPgoJCQk8dGQ+Y3VzdG9tPC90ZD4KCQkJPHRkPk5hbWUgb2YgdGhlIGN1c3RvbSBm
aWVsZCBjb250YWluaW5nIHZpZGVvIElEcy91cmxzIGFzc29jaWF0ZWQgd2l0aCBhcnRpY2xl
PC90ZD4KCQkJPHRkPllvdXR1YmUgSUQ8L3RkPgoJCQk8dGQ+Y3VzdG9tPSYjODIyMDt2aWRl
byYjODIyMTs8L3RkPgoJCTwvdHI+Cgk8L3RhYmxlPgoKCTxwIGlkPSJmbjIwMzcwODA0MDc0
ZjQ4Y2VjMWFjMzQxIiBjbGFzcz0iZm9vdG5vdGUiPjxzdXA+MTwvc3VwPiBUaGUgdXJsIGNh
biBiZSBlaXRoZXIgZm9yIGFuIGluZGl2aWR1YWwgdmlkZW8gb3IgZm9yIGEgcGxheWxpc3Qu
PC9wPgoKCTxoND5CYXNpY3M8L2g0PgoKCTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1
dGU8L3RoPgoJCQk8dGg+RGVzY3JpcHRpb248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJ
CTx0aD5FeGFtcGxlPC90aD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmxpbms8L3RkPgoJCQk8
dGQ+U2V0IHRvICYjODIxNjsxJiM4MjE3OyB0byBzaG93IGEgbGluayB0byB0aGUgWW91dHVi
ZSB2aWRlbyBwYWdlIGJlbG93IHRoZSBwbGF5ZXI7IHRoZSBsaW5rIHRleHQgd2lsbCBiZSB0
aGUgPHNwYW4gY2xhc3M9ImNhcHMiPjxzcGFuIGNsYXNzPSJjYXBzIj5VUkw8L3NwYW4+PC9z
cGFuPiBvciB0aGUgdGV4dCBiZXR3ZWVuIG9wZW5pbmcgYW5kIGNsb3NpbmcgdGFnczwvdGQ+
CgkJCTx0ZD4wPC90ZD4KCQkJPHRkPmxpbms9JiM4MjIwOzEmIzgyMjE7PC90ZD4KCQk8L3Ry
PgoJCTx0cj4KCQkJPHRkPmxhYmVsPC90ZD4KCQkJPHRkPkxhYmVsIGZvciB0aGUgdmlkZW88
L3RkPgoJCQk8dGQ+IDxlbT5ubyBsYWJlbDwvZW0+PC90ZD4KCQkJPHRkPmxhYmVsPSYjODIy
MDtZb3V0dWJlIHZpZGVvJiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5sYWJl
bHRhZzwvdGQ+CgkJCTx0ZD5JbmRlcGVuZGVudCB3cmFwdGFnIGZvciBsYWJlbDwvdGQ+CgkJ
CTx0ZD4gPGVtPmVtcHR5PC9lbT48L3RkPgoJCQk8dGQ+bGFiZWx0YWc9JiM4MjIwO2gzJiM4
MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD53cmFwdGFnPC90ZD4KCQkJPHRkPjxz
cGFuIGNsYXNzPSJjYXBzIj48c3BhbiBjbGFzcz0iY2FwcyI+SFRNTDwvc3Bhbj48L3NwYW4+
IHRhZyB0byBiZSB1c2VkIGFzIHRoZSB3cmFwdGFnLCB3aXRob3V0IGJyYWNrZXRzPC90ZD4K
CQkJPHRkPiA8ZW0+dW5zZXQ8L2VtPjwvdGQ+CgkJCTx0ZD53cmFwdGFnPSYjODIyMDtkaXYm
IzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmNsYXNzPC90ZD4KCQkJPHRkPjxz
cGFuIGNsYXNzPSJjYXBzIj48c3BhbiBjbGFzcz0iY2FwcyI+Q1NTPC9zcGFuPjwvc3Bhbj4g
Y2xhc3MgYXR0cmlidXRlIGZvciB3cmFwdGFnPC90ZD4KCQkJPHRkPmFyY195b3V0dWJlPC90
ZD4KCQkJPHRkPmNsYXNzPSYjODIyMDt5b3V0dWJlJiM4MjIxOzwvdGQ+CgkJPC90cj4KCTwv
dGFibGU+CgoJPGg0PkN1c3RvbWlzaW5nIHRoZSBZb3V0dWJlIHBsYXllcjwvaDQ+CgoJPHA+
WW91IGNhbiBjdXN0b21pc2UgdGhlIGFwcGVhcmFuY2Ugb2YgdGhlIFlvdXR1YmUgZmxhc2gg
cGxheWVyIHVzaW5nIHRoaXMgcGx1Z2luIHRvIGRlZmluZSBjb2xvdXJzLCBzaXplLCBhbmQg
bGFuZ3VhZ2Ugc2V0dGluZ3MuPC9wPgoKCTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1
dGU8L3RoPgoJCQk8dGg+RGVzY3JpcHRpb248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJ
CTx0aD5FeGFtcGxlPC90aD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPndpZHRoPC90ZD4KCQkJ
PHRkPldpZHRoIG9mIHZpZGVvPC90ZD4KCQkJPHRkPjA8L3RkPgoJCQk8dGQ+d2lkdGg9JiM4
MjIwOzIwMCYjODIyMTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+aGVpZ2h0PC90ZD4K
CQkJPHRkPkhlaWdodCBvZiB2aWRlbzwvdGQ+CgkJCTx0ZD4wPC90ZD4KCQkJPHRkPmhlaWdo
dD0mIzgyMjA7MTUwJiM4MjIxOzwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5yYXRpbzwv
dGQ+CgkJCTx0ZD5Bc3BlY3QgcmF0aW88L3RkPgoJCQk8dGQ+NDozPC90ZD4KCQkJPHRkPnJh
dGlvbj0mIzgyMjA7MTY6OSYjODIyMTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+Y29s
b3IxPC90ZD4KCQkJPHRkPlNpeC1kaWdpdCBoZXhhZGVjaW1hbCBjb2xvdXIgY29kZSAoaWYg
Y29sb3IxIGFuZCBjb2xvcjIgYXJlIHVuc2V0IHRoZW4gdGhlIGRlZmF1bHQgWW91dHViZSBj
b2xvdXIgc2NoZW1lIGlzIHVzZWQpPC90ZD4KCQkJPHRkPiA8ZW0+dW5zZXQ8L2VtPjwvdGQ+
CgkJCTx0ZD5jb2xvcjE9JiM4MjIwOzJiNDA1YiYjODIyMTs8L3RkPgoJCTwvdHI+CgkJPHRy
PgoJCQk8dGQ+Y29sb3IyPC90ZD4KCQkJPHRkPlNpeC1kaWdpdCBoZXhhZGVjaW1hbCBjb2xv
dXIgY29kZTwvdGQ+CgkJCTx0ZD4gPGVtPnVuc2V0PC9lbT48L3RkPgoJCQk8dGQ+Y29sb3Iy
PSYjODIyMDs2YjhhYjYmIzgyMjE7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmJvcmRl
cjwvdGQ+CgkJCTx0ZD4mIzgyMTY7MSYjODIxNzsgdG8gc2hvdyBib3JkZXIsICYjODIxNjsw
JiM4MjE3OyB0byBoaWRlIGJvcmRlcjwvdGQ+CgkJCTx0ZD4wPC90ZD4KCQkJPHRkPmJvcmRl
cj0mIzgyMjA7MSYjODIyMTs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+ZnM8L3RkPgoJ
CQk8dGQ+JiM4MjE2OzEmIzgyMTc7IHRvIGFsbG93IGZ1bGwgc2NyZWVuLCAmIzgyMTY7MCYj
ODIxNzsgdG8gIGRpc2FibGUgZnVsbCBzY3JlZW4gbW9kZTwvdGQ+CgkJCTx0ZD4xPC90ZD4K
CQk8L3RyPgoJCTx0cj4KCQkJPHRkPmhkPC90ZD4KCQkJPHRkPiYjODIxNjsxJiM4MjE3OyB0
byBwbGF5IHZpZGVvIGluIEhELCAmIzgyMTY7MCYjODIxNzsgdG8gZm9yIG5vcm1hbCBwbGF5
PC90ZD4KCQkJPHRkPjA8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+YXV0bzwvdGQ+CgkJ
CTx0ZD4mIzgyMTY7MSYjODIxNzsgdG8gYXV0b3BsYXkgdGhlIHZpZGVvLCAmIzgyMTY7MCYj
ODIxNzsgdG8gdHVybiBvZmYgYXV0b3BsYXkgKGRlZmF1bHQpPC90ZD4KCQkJPHRkPjA8L3Rk
PgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+cHJpdmFjeTwvdGQ+CgkJCTx0ZD4mIzgyMTY7MSYj
ODIxNzsgZm9yIGVuaGFuY2VkIHByaXZhY3kgbW9kZSwgbm8gY29va2llcyB1bmxlc3MgdGhl
IHVzZXIgY2xpY2tzIHBsYXksICYjODIxNjswJiM4MjE3OyBub3JtYWwgbW9kZTwvdGQ+CgkJ
CTx0ZD4wPC90ZD4KCQkJPHRkPnByaXZhY3k9JiM4MjE2OzEmIzgyMTc7PC90ZD4KCQk8L3Ry
PgoJCTx0cj4KCQkJPHRkPnNzbDwvdGQ+CgkJCTx0ZD4mIzgyMTY7MSYjODIxNzsgdG8gdXNl
IDxzcGFuIGNsYXNzPSJjYXBzIj48c3BhbiBjbGFzcz0iY2FwcyI+SFRUUFM8L3NwYW4+PC9z
cGFuPiBwcm90b2NvbDwvdGQ+CgkJCTx0ZD4wPC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRk
Pmxhbmc8L3RkPgoJCQk8dGQ+TGFuZ3VhZ2UgY29kZSBmb3IgcGxheWVyLCBieSBkZWZhdWx0
IHRoaXMgaXMgc2V0IHRvIEVuZ2xpc2ggJiM4MjIwO2VuJiM4MjIxOzwvdGQ+CgkJCTx0ZD5l
bjwvdGQ+CgkJCTx0ZD5sYW5nPSYjODIyMDtmciYjODIyMTs8L3RkPgoJCTwvdHI+Cgk8L3Rh
YmxlPgoKCTxoMz5FeGFtcGxlczwvaDM+CgoJPGg0PkV4YW1wbGUgMTogVXNlIGN1c3RvbSBm
aWVsZCB0byBhc3NvY2lhdGUgdmlkZW8gd2l0aCBhbiBhcnRpY2xlPC9oND4KCgk8cD48dHhw
OmFyY195b3V0dWJlIGN1c3RvbT0iWW91dHViZSIgLz48L3A+CgoJPGg0PkV4YW1wbGUgMjog
Q3VzdG9taXNlIHRoZSBhcHBlYXJhbmNlIG9mIHRoZSBwbGF5ZXIgYW5kIGFzc29jaWF0ZSB2
aWRlbyB3aXRoIGN1c3RvbSBmaWVsZDwvaDQ+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJjX3lv
dXR1YmUgY29sb3IxPSZxdW90OzAwNjY5OSZxdW90OyBjb2xvcjI9JnF1b3Q7NTRhYmQ2JnF1
b3Q7IGJvcmRlcj0mcXVvdDsxJnF1b3Q7IGN1c3RvbT0mcXVvdDtZb3V0dWJlJnF1b3Q7IC8m
Z3Q7CjwvY29kZT48L3ByZT4KCgk8cD5UaGlzIHdpbGwgcGxhY2UgYSBib3JkZXIgYXJvdW5k
IHRoZSBwbGF5ZXIgYW5kIGNoYW5nZSBpdHMgY29sb3VyIHNjaGVtZSB0byBhIGJsdWUgb25l
LiBBcyBleGFtcGxlIDEsIHRoZSB2aWRlbyBpcyBzZWxlY3RlZCB1c2luZyBhbiBhcnRpY2xl
JiM4MjE3O3MgY3VzdG9tIGZpZWxkIGNhbGxlZCAmIzgyMTY7WW91dHViZSYjODIxNzsuPC9w
PgoKCTxoND5FeGFtcGxlIDM6IFNtYWxsIHZpZGVvIHBsYXllciB3aXRoIGZpeGVkIHZpZGVv
PC9oND4KCjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfeW91dHViZSB3aWR0aD0mcXVvdDsyMDAm
cXVvdDsgdmlkZW89JnF1b3Q7dGdiTnltWjd2cVkmcXVvdDsgLyZndDsKPC9jb2RlPjwvcHJl
PgoKCTxwPkhlcmUgdGhlIHZpZGVvIGlzIGRlZmluZWQgd2l0aGluIHRoZSB0YWcgdXNpbmcg
dGhlIHZpZGVvIGF0dHJpYnV0ZSB3aGljaCBoYXMgYmVlbiBnaXZlbiB0aGUgdmFsdWUgb2Yg
WW91dHViZSYjODIxNztzIHZpZGVvIElELCBhbHRlcm5hdGl2ZWx5IHRoaXMgdmFsdWUgY291
bGQgaGF2ZSBiZWVuIHRoZSB2aWRlbyYjODIxNztzIDxzcGFuIGNsYXNzPSJjYXBzIj5VUkw8
L3NwYW4+LjwvcD4KCgk8aDQ+RXhhbXBsZSA0OiBFbWJlZCBhIHBsYXlsaXN0PC9oND4KCjxw
cmU+PGNvZGU+Jmx0O3R4cDphcmNfeW91dHViZSB2aWRlbz0mcXVvdDtodHRwOi8vd3d3Lnlv
dXR1YmUuY29tL3ZpZXdfcGxheV9saXN0P3A9MkRCRkI2MEQ1ODFBQjkwMSZxdW90OyAvJmd0
Owo8L2NvZGU+PC9wcmU+CgoJPHA+VGhpcyBlbWJlZHMgYSBZb3V0dWJlIHBsYXlsaXN0IChh
IHNpbmdsZSBwbGF5ZXIgdGhhdCBjeWNsZXMgdGhyb3VnaCB0aGUgdmlkZW9zIGluIHRoZSBw
bGF5bGlzdCkuIEFsdGVybmF0aXZlbHkgdGhlIHBsYXlsaXN0IElEIGNhbiBiZSB1c2VkIHVz
aW5nIHRoZSAmIzgyMTY7cGxheWxpc3QmIzgyMTc7IGF0dHJpYnV0ZTotPC9wPgoKPHByZT48
Y29kZT4mbHQ7dHhwOmFyY195b3V0dWJlIHBsYXlsaXN0PSZxdW90OzJEQkZCNjBENTgxQUI5
MDEmcXVvdDsgLyZndDsKPC9jb2RlPjwvcHJlPgoKIjtzOjQ6ImNvZGUiO3M6Mzk5MDoiCmlm
IChAdHhwaW50ZXJmYWNlID09ICdhZG1pbicpCnsKCXJlZ2lzdGVyX2NhbGxiYWNrKCdfYXJj
X3lvdXR1YmVfYXV0b19lbmFibGUnLCAncGx1Z2luX2xpZmVjeWNsZS5hcmNfeW91dHViZScs
ICdpbnN0YWxsZWQnKTsKfQoKZnVuY3Rpb24gYXJjX3lvdXR1YmUoJGF0dHMsJHRoaW5nKQp7
CglnbG9iYWwgJHRoaXNhcnRpY2xlOwoKICAgIGV4dHJhY3QobEF0dHMoYXJyYXkoCiAgICAg
ICAgJ3ZpZGVvJyAgICAgPT4gJycsCiAgICAgICAgJ3BsYXlsaXN0JyAgPT4gJycsCiAgICAg
ICAgJ2N1c3RvbScgICAgPT4gJ1lvdXR1YmUgSUQnLAogICAgICAgICd3aWR0aCcgICAgID0+
ICcwJywKICAgICAgICAnaGVpZ2h0JyAgICA9PiAnMCcsCiAgICAgICAgJ3JhdGlvJyAgICAg
PT4gJzQ6MycsCiAgICAgICAgJ2NvbG9yMScgICAgPT4gJycsCiAgICAgICAgJ2NvbG9yMicg
ICAgPT4gJycsCiAgICAgICAgJ2JvcmRlcicgICAgPT4gJzAnLAogICAgICAgICdmcycgICAg
ICAgID0+ICcxJywKICAgICAgICAnaGQnICAgICAgICA9PiAnMCcsCiAgICAgICAgJ3ByaXZh
Y3knICAgPT4gJzAnLAogICAgICAgICdzc2wnICAgICAgID0+ICcwJywKICAgICAgICAnYXV0
bycgICAgICA9PiAnMCcsCiAgICAgICAgJ2xhbmcnICAgICAgPT4gJ2VuJywKICAgICAgICAn
bGluaycgICAgICA9PiAnMCcsCiAgICAgICAgJ2xhYmVsJyAgICAgPT4gJycsCiAgICAgICAg
J2xhYmVsdGFnJyAgPT4gJycsCiAgICAgICAgJ3dyYXB0YWcnICAgPT4gJycsCiAgICAgICAg
J2NsYXNzJyAgICAgPT4gX19GVU5DVElPTl9fCiAgICApLCRhdHRzKSk7CgogICAgJGN1c3Rv
bSA9IHN0cnRvbG93ZXIoJGN1c3RvbSk7CiAgICBpZiAoISR2aWRlbyAmJiBpc3NldCgkdGhp
c2FydGljbGVbJGN1c3RvbV0pKSB7CiAgICAgICAgJHZpZGVvID0gJHRoaXNhcnRpY2xlWyRj
dXN0b21dOwogICAgfQoKICAgICR2ID0gIiI7ICRwID0gIiI7CgogICAgLy8gQ2hlY2sgZm9y
IFlvdXR1YmUgdmlkZW8gSUQgb3IgWW91dHViZSBVUkwgdG8gZXh0cmFjdCBJRCBmcm9tCgog
ICAgaWYgKHByZWdfbWF0Y2goIi9eW2EtekEtWl0rWzpcL1wvXStbQS1aYS16MC05XC1fXStc
XC55b3V0dWJlXFwuK1tBLVphLXowLTlcLlwvJSY9XD9cLV9dKyQvaSIsJHZpZGVvKSkgewoK
ICAgICAgICAkdXJsYyA9IHBhcnNlX3VybCgkdmlkZW8pOwogICAgICAgICRxc3RyID0gJHVy
bGNbJ3F1ZXJ5J107CiAgICAgICAgcGFyc2Vfc3RyKCRxc3RyLCAkcWFycik7CgogICAgICAg
IGlmIChpc3NldCgkcWFyclsndiddKSkgewoKICAgICAgICAgICAgJHYgPSAkcWFyclsndidd
OwoKICAgICAgICB9IGVsc2VpZiAoaXNzZXQoJHFhcnJbJ3AnXSkpIHsKCiAgICAgICAgICAg
ICRwID0gJHFhcnJbJ3AnXTsKCiAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgIHJldHVy
biAnJzsKCiAgICAgICAgfQoKICAgIH0gZWxzZWlmIChwcmVnX21hdGNoKCIvXlthLXpBLVpd
K1s6XC9cL10reW91dHVcLmJlXC8oW0EtWmEtejAtOV0rKS9pIiwkdmlkZW8sJG1hdGNoZXMp
KSB7CgogICAgICAgICR2ID0gJG1hdGNoZXNbMV07CgogICAgfSBlbHNlaWYgKCR2aWRlbykg
ewoKICAgICAgICAkdiA9ICR2aWRlbzsKCiAgICB9IGVsc2VpZiAoJHBsYXlsaXN0KSB7Cgog
ICAgICAgICRwID0gJHBsYXlsaXN0OwoKICAgIH0gZWxzZSB7CgogICAgICAgIHJldHVybiAn
JzsKCiAgICB9CgogICAgaWYgKCRwKSB7CgogICAgICAgICR2bGluayA9ICdodHRwJy4oKCRz
c2wpPydzJzonJykuJzovL3d3dy55b3V0dWJlJwogICAgICAgICAgLigoJHByaXZhY3kpPyct
bm9jb29raWUnOicnKS4nLmNvbS9wLycuJHA7CgogICAgfSBlbHNlaWYgKCR2KSB7CgogICAg
ICAgICR2bGluayA9ICdodHRwJy4oKCRzc2wpPydzJzonJykuJzovL3d3dy55b3V0dWJlJwog
ICAgICAgICAgLigoJHByaXZhY3kpPyctbm9jb29raWUnOicnKS4nLmNvbS92LycuJHY7Cgog
ICAgfQoKICAgIGlmICgkdnx8JHApIHsKCiAgICAgICAgJHRvb2xiYXJfaCA9IDI1OwoKICAg
ICAgICBpZiAoISR3aWR0aCB8fCAhJGhlaWdodCkgewogICAgICAgICAgLy8gY2FsY3VsYXRl
IHRoZSBhc3BlY3QgcmF0aW8KICAgICAgICAgIHByZWdfbWF0Y2goIi8oWzAtOV0rKTooWzAt
OV0rKS8iLCRyYXRpbywkbWF0Y2hlcyk7CiAgICAgICAgICBpZiAoJG1hdGNoZXNbMF0gJiYg
JG1hdGNoZXNbMV0hPTAgJiYgJG1hdGNoZXNbMl0hPTApIHsKICAgICAgICAgICAgJGFzcGVj
dCA9ICRtYXRjaGVzWzFdLyRtYXRjaGVzWzJdOwogICAgICAgICAgfSBlbHNlIHsKICAgICAg
ICAgICAgJGFzcGVjdCA9IDEuMzMzOwogICAgICAgICAgfQogICAgICAgICAgLy8gY2FsY3Vh
dGUgdGhlIG5ldyB3aWR0aC9oZWlnaHQKICAgICAgICAgIGlmICgkd2lkdGgpIHsKICAgICAg
ICAgICAgJGhlaWdodCA9ICR3aWR0aC8kYXNwZWN0ICsgJHRvb2xiYXJfaDsKICAgICAgICAg
IH0gZWxzZWlmICgkaGVpZ2h0KSB7CiAgICAgICAgICAgICR3aWR0aCA9ICgkaGVpZ2h0LSR0
b29sYmFyX2gpKiRhc3BlY3Q7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkd2lk
dGggPSA0MjU7CiAgICAgICAgICAgICRoZWlnaHQgPSAzNDQ7CiAgICAgICAgICB9CiAgICAg
ICAgfQoKICAgICAgICAkc3JjID0gJHZsaW5rLic/aGw9Jy4kbGFuZwogICAgICAgICAgICAu
KCgkZnMpPycmYW1wO2ZzPTEnOicnKQogICAgICAgICAgICAuKCgkYXV0byk/JyZhbXA7YXV0
b3BsYXk9MSc6JycpCiAgICAgICAgICAgIC4oKCRjb2xvcjEpPycmYW1wO2NvbG9yMT0weCcu
JGNvbG9yMTonJykKICAgICAgICAgICAgLigoJGNvbG9yMik/JyZhbXA7Y29sb3IyPTB4Jy4k
Y29sb3IyOicnKQogICAgICAgICAgICAuKCgkYm9yZGVyKT8nJmFtcDtib3JkZXI9MSc6Jycp
CiAgICAgICAgICAgIC4oKCRoZCk/Jz9oZD0xJzonJyk7CgogICAgICAgICRvdXQgPSAnPG9i
amVjdCB0eXBlPSJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCIgJwogICAgICAgICAg
ICAuJ3N0eWxlPSJ3aWR0aDonLiR3aWR0aC4ncHg7IGhlaWdodDonLiRoZWlnaHQuJ3B4OyIg
JwogICAgICAgICAgICAuJ2RhdGE9IicuJHNyYy4nIj4nCiAgICAgICAgICAgIC4nPHBhcmFt
IG5hbWU9Im1vdmllIiB2YWx1ZT0iJy4kc3JjLiciPjwvcGFyYW0+JwogICAgICAgICAgICAu
JzxwYXJhbSBuYW1lPSJhbGxvd0Z1bGxTY3JlZW4iIHZhbHVlPSInLigoJGZzKT8ndHJ1ZSc6
J2ZhbHNlJykuJyI+PC9wYXJhbT4nCiAgICAgICAgICAgIC4nPHBhcmFtIG5hbWU9ImFsbG93
c2NyaXB0YWNjZXNzIiB2YWx1ZT0iYWx3YXlzIj48L3BhcmFtPicKICAgICAgICAgICAgLic8
L29iamVjdD4nOwoKICAgICAgICBpZiAoJGxpbmspIHsKCiAgICAgICAgICAgICR1cmwgPSAn
d3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9Jy4kdjsKICAgICAgICAgICAgJG91dC49ICc8cD48
YSBocmVmPSJodHRwOi8vJy4kdXJsLiciIHJlbD0iZXh0ZXJuYWwiPicKICAgICAgICAgICAg
ICAgIC4oKCR0aGluZyk/cGFyc2UoJHRoaW5nKTokdXJsKQogICAgICAgICAgICAgICAgLic8
L2E+PC9wPic7CgogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGRvTGFiZWwoJGxhYmVsLCAk
bGFiZWx0YWcpLigoJHdyYXB0YWcpID8gZG9UYWcoJG91dCwgJHdyYXB0YWcsICRjbGFzcykg
OiAkb3V0KTsKCiAgICB9Cgp9CgovLyBBdXRvIGVuYWJsZSBwbHVnaW4gb24gaW5zdGFsbCAo
b3JpZ2luYWwgaWRlYSBieSBNaWNoYWVsIE1hbmZyZSkKZnVuY3Rpb24gX2FyY195b3V0dWJl
X2F1dG9fZW5hYmxlKCRldmVudCwgJHN0ZXApCnsKICAkcGx1Z2luID0gc3Vic3RyKCRldmVu
dCwgc3RybGVuKCdwbHVnaW5fbGlmZWN5Y2xlLicpKTsKICAkcHJlZml4ID0gJ2FyY195b3V0
dWJlJzsKICBpZiAoc3RybmNtcCgkcGx1Z2luLCAkcHJlZml4LCBzdHJsZW4oJHByZWZpeCkp
ID09IDApCiAgewogICAgc2FmZV91cGRhdGUoJ3R4cF9wbHVnaW4nLCAic3RhdHVzID0gMSIs
ICJuYW1lID0gJyIgLiBkb1NsYXNoKCRwbHVnaW4pIC4gIiciKTsKICB9Cn0KIjtzOjM6Im1k
NSI7czozMjoiNzcxMTkyZGI3NjljMDBmOTk5ZGQxZmIxODdkZjY1MzgiO30=
